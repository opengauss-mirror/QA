![avatar](../../../images/openGauss.png)

版权所有 © 2022  openGauss社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

|   日期    | 修订版本 |               修改描述               |      作者       |
| :------- | :------ | :---------------------------------- | :------------- |
| 2023-6-20 |   1.0    |           特性测试报告初稿           | zou_jialiang050 |
| 2023-6-25 | 2.0 | 增加缺陷描述 | zou_jialiang050 |

 关键词： DataStudio

摘要：

本文对DataStudio支持新数据类型的映射特性测试，并给出最终测试结论。

缩略语清单：

| 缩略语 |                       英文全名                        | 中文解释                                             |
| :---- | :--------------------------------------------------- | :---------------------------------------------------- |
|  NA  |          |          |

# 1     特性概述

Data Studio支持以下数据类型修改权限int1、nvarchar2、interval、blob、clob、varbit、box、path、circle、lseg、point、polygon、binary;并支持以下类型的建表与修改权限： year、 uint1、uint2、uint4、uint8、binary、varbinary、tinyblob、mediumblob、longblob、set、enum 。

# 2     特性测试信息

| 版本名称                                             | 测试起始时间 | 测试结束时间 |
| :--------------------------------------------------- | :----------- | :----------- |
| Data Studio 5.0.0<br />openGauss5.1.0 build 90dad678 | 2023-4-13    | 2023-4-21    |
| Data Studio 5.0.0<br />openGauss5.1.0 build 1c922789 | 2023-4-21    | 2023-5-15    |
| Data Studio 5.0.0<br />openGauss5.1.0 build a74b7333 | 2023-6-15    | 2023-6-20    |

| 环境信息 | 配置信息                                                     | 备注 |
| :------- | :----------------------------------------------------------- | :---- |
| 虚拟机   | CPU：Intel(R) Xeon(R) Gold 6278C CPU @ 2.60GHz 8核<br />内存：32GB<br />硬盘：100G<br />OS：CentOS Linux release 7.6.1908 (Core) |      |

# 3     测试结论概述

## 3.1   测试整体结论

DataStudio支持新数据类型的映射特性测试中，共计执行用例204个，主要涉及常用类型的修改权限验证及新增兼容类型的建表及修改权限验证，共发现4个问题，其中1个问题单经评审后取消，其余问题单均已回归通过，无遗留风险，整体质量良好。

| 测试活动 | 活动评价                                                     |
| :------ | :----------------------------------------------------------- |
| 功能测试 | 支持常用类型修改权限测试，通过 |
| 功能测试 | 支持新增类型建表及修改权限测试，通过 |

## 3.2   约束说明

- 兼容M* 5.7版本
- 支持新增类型为兼容M*侧数据类型，需要连接兼容b库执行

## 3.3   遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

| 问题单号 | 问题描述 | 问题级别 | 问题影响和规避措施 | 当前状态 |
| :------ | :------ | :------ | :---------------- | :------ |
|    NA    |  |          |  |  |

### 3.3.2 问题统计

|             | 问题总数 | 严重 | 主要 | 次要 | 不重要 |
| :--------- | :------ | :-- | :-- | :-- | :---- |
|  数目 (个)  |    4    |  0  |  0  |  4  |   0    |
| 百分比  (%) |   100   |  0  |  0   |  100  |   0    |

### 3.3.3 问题单汇总

| 序号 |                           issue号                            | 问题级别 |                           问题简述                           | 问题状态 |
| :-- | :---------------------------------------------------------- | :------ | :---------------------------------------------------------- | :------ |
|  1  | [I7C4AI](https://gitee.com/opengauss/DataStudio/issues/I7C4AI?from=project-issue) | 次要 | 【测试类型：工具功能】【测试版本：5.1.0】DS工具获取表信息的SQL语句出错 | 已验收 |
| 2 | [I732ZU](https://gitee.com/opengauss/DataStudio/issues/I732ZU?from=project-issue) | 次要 | 【测试类型：工具功能】【测试版本：5.1.0】ds图形化操作界面对longblob、mediumblob、tinyblob类型列中数据修改删除失败 | 已验收 |
| 3 | [I72LNC](https://gitee.com/opengauss/DataStudio/issues/I72LNC?from=project-issue) | 次要 | 【测试类型：SQL功能】【测试版本：5.1.0】ds图形化界面插入向blob表中插入数据后显示为null | 已验收 |
| 4 | [I72LPU](https://gitee.com/opengauss/DataStudio/issues/I72LPU?from=project-issue) | 次要 | 【测试类型：SQL功能】【测试版本：5.1.0】ds图形化界面设置blob类型缺省值失败 | 已取消 |

# 4     测试执行

## 4.1   功能测试

### 4.1.1   支持常用类型修改操作

| 测试步骤                                                     | 测试结果                           |
| :------------------------------------------------------------ | :---------------------------------- |
| 1.支持以下常用类型的修改操作int1、nvarchar2、interval、blob、clob、varbit、box、path、circle、lseg、point、polygon、binary | 共执行测试用例96条<br />发现1个bug，现已全部回归通过。 |

### 4.1.2   支持新增类型建表及修改操作

| 测试步骤                                                     | 测试结果                                                     |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 1.支持以下新增类型的建表及修改操作year、 uint1、uint2、uint4、uint8、binary、varbinary、tinyblob、mediumblob、longblob、set、enum | 共执行测试用例108条 发现3个bug，其中1个问题单已取消，剩余问题单已全部回归通过。 |

## 4.2   测试执行统计数据

| 版本名称                      | 测试用例数 | 用例执行结果            | 发现问题单数 |
| :----------------------------- | :---------- | :----------------------- | :------------ |
| openGauss5.1.0 build 90dad678 | 204 | Passed:156<br />Failed:48 | 3      |
| openGauss5.1.0 build 1c922789 | 48 | Passed:48<br />Failed:8 | 1 |
| openGauss5.1.0 build a74b7333 | 204 | Passed:204<br />Failed:0 | 0 |

缺陷单共4个，其中1个已取消，修改代码量为1.18kloc， 缺陷密度为2.54个/kloc

## 4.3   后续测试建议

无

# 5     附件

无

