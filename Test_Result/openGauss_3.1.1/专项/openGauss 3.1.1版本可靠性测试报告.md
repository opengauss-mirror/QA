![avatar](../../images/openGauss.png)

版权所有 © 2022  openGauss社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期     | 修订   版本 | 修改描述           | 作者       |
| -------- | ----------- | ------------------ | ---------- |
| 2023.1.4 | 1.0         | 可靠性测试报告初稿 | peilinqian |

 关键词： 故障注入，故障恢复，openGauss 3.1.1

 

摘要：本报告基于对openGauss 3.1.1 版本进行可靠性测试描述openGauss的可靠性测试情况，可靠性测试设计结合故障模式库，从用户使用角度分析openGauss功能场景，对每个功能场景分析其依赖的OS配置、软件资源、硬件资源进行可靠性故障注入测试，并关注故障注入后对数据库影响以及恢复故障后数据库是否可恢复正常。根据测试情况评估openGauss可靠性质量，识别可靠性关键风险。

 

缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
| NA     |          |          |

# 1     特性概述

本报告是面向开源的openGauss 3.1.1 版本可靠性测试报告，报告主要包括openGauss 3.1.1 版本可靠性测试情况，对可靠性测试工作进行总结，结合可靠性问题解决情况，为openGauss 3.1.1 版本开源提供依据。

# 2     特性测试信息

本节描述被测对象的版本信息和测试的时间及测试轮次，包括依赖的硬件。

| 版本名称            | 测试起始时间 | 测试结束时间 |
| ------------------- | ------------ | ------------ |
| openGauss 3.1.1 RC1 | 2022/10/19   | 2022/10/25   |
| openGauss 3.1.1 RC5 | 2022/11/16   | 2022/11/23   |
| openGauss 3.1.1 RC7 | 2022/12/1    | 2022/12/7    |
| openGauss 3.1.1 RC9 | 2022/12/15   | 2022/12/21   |

测试虚拟机信息

| 类型 | cpu  | 内存 | 磁盘 | 操作系统                             | 组网方式 |
| ---- | ---- | ---- | ---- | ------------------------------------ | -------- |
| x86  | 16   | 62G  | 130G | CentOS Linux release 7.6.1810 (Core) | 1主2备   |
| x86  | 8    | 16G  | 100G | openEuler release 20.03 (LTS)        | 1主2备   |

# 3     测试结论概述

## 3.1   测试整体结论

openGauss 3.1.1 版本提供调用栈和日志记录的故障定位手段，故障引起进程Panic清理故障后可手动恢复进程运行；故障恢复后进程能正常运行、主备状态正常、能正常处理SQL、主备数据同步且数据一致；本次测试发现1个权限故障问题，已优化，满足可靠可用。

openGauss 3.1.1 版本可靠性测试共计测试4个版本，在x86+Centos，x86openEuler环境下共计执行692个用例，测试用例累计执行率100%，测试发现1个问题，已优化闭环，无遗留问题。

## 3.2   约束说明

无

## 3.3   遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

| 问题单号 | 问题描述 | 问题级别 | 问题影响和规避措施 | 当前状态 |
| -------- | -------- | -------- | ------------------ | -------- |
| NA       |          |          |                    |          |

### 3.3.2 问题统计

|        | 问题总数 | 严重 | 主要 | 次要 | 不重要 |
| ------ | -------- | ---- | ---- | ---- | ------ |
| 数目   | 1        | 0    | 0    | 1    | 0      |
| 百分比 | 100%     | 0%   | 0%   | 100% | 0%     |

### 3.3.3 问题单汇总

| 序号 | issue号                                                      | 问题级别 | 问题简述                                                     | 问题状态 |
| ---- | ------------------------------------------------------------ | -------- | ------------------------------------------------------------ | -------- |
| 1    | [I62YDK](https://gitee.com/opengauss/openGauss-server/issues/I62YDK) | 次要     | 次要更改表空间目录权限为000后，删除表空间虽然提示权限受限，但实际删除成功 | 已验收   |

# 4     测试执行

## 4.1   测试执行统计数据

| 版本名称            | 测试用例数 | 用例执行结果          | 发现问题单数 |
| ------------------- | ---------- | --------------------- | ------------ |
| openGauss 3.1.1 RC1 | 692        | Passed：692 Failed：0 | 0            |
| openGauss 3.1.1 RC5 | 692        | Passed：689 Failed：3 | 1            |
| openGauss 3.1.1 RC7 | 692        | Passed：692 Failed：0 | 0            |
| openGauss 3.1.1 RC9 | 692        | Passed：692 Failed：0 | 0            |

**数据项说明：**

测试用例数：到本测试活动结束时，所有可用测试用例数；

发现问题单数：本测试活动可靠性用例总共发现的问题单数；

用例执行结果：openGauss 3.1.1 RC5版本，失败用例3个，其中1个为可靠性发现问题单，见问题单汇总；其余2个用例由于已知功能问题单导致执行失败，问题单为：https://e.gitee.com/opengaussorg/projects/451125/bugs/table?issue=I617FL 。

## 4.2   后续测试建议

无

# 5     附件

无