![avatar](../../images/openGauss.png)

版权所有 © 2025  openGauss社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问[*https://creativecommons.org/licenses/by-sa/4.0/*](https://creativecommons.org/licenses/by-sa/4.0/) 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：[*https://creativecommons.org/licenses/by-sa/4.0/legalcode*](https://creativecommons.org/licenses/by-sa/4.0/legalcode)。

修订记录

| 日期      | 修订版本 | 修改章节 | 修改描述 | 作者              |
| --------- | -------- | -------- | -------- | ----------------- |
| 2025.3.11 | 1.0      | 初稿撰写 |          | wan005，sungang14 |
| 2025.3.12 | 1.1      | 稿件修正 |          | sungang14，wan005 |
| 2025.3.18 | 1.2      | 稿件修正 |          | sungang14，wan005 |

目 录

1 概述

2 测试版本说明

> 2.1 测试版本信息

> 2.2 测试环境
>
> 2.3 需求清单

3 版本概要测试结论

4 版本详细测试结论

> 4.1 特性测试结论

> 4.2 专项测试结论
>
> 4.3 DBV伙伴测试结论

5 问题单统计

> 5.1 问题单统计

> 5.2 问题单分析
>
> 5.3 执行用例与问题单数量对应关系
>
> 5.4 继承测试迭代版本基线

6 附件

7 致谢

**Keywords 关键词**：openGauss 7.0.0 RC1

**Abstract 摘要**：主要是描述了openGauss 7.0.0 RC1版本的整体测试情况，给出本阶段的测试范围、结果、分析及质量评价，同时对测试活动进行回顾总结。

> 缩略语清单： 

| 缩略语 | 英文全名                    | 中文解释       |
| ------ | --------------------------- | -------------- |
| SQL    | Structured Query Language   | 结构化查询语言 |
| LTS    | Long Time support           | 长时间维护     |
| DML    | Data Manipulation Language  | 数据操纵语言   |
| DDL    | Data Definition Language    | 数据定义语言   |
| DCL    | Data Control Language       | 数据控制语言   |
| CM     | Cluster Management          | 集群管理工具   |
| DMS    | Distributed Memory Service  | 分布式内存服务 |
| DSS    | Distributed Storage Service | 分布式存储服务 |

 

***


# 1、概述

openGauss是一款全面友好开放，携手伙伴共同打造的企业级开源关系型数据库。openGauss提供面向多核架构的极致性能、全链路的业务、数据安全、基于AI的调优和高效运维的能力。openGauss具有高性能、高可靠、高安全和易运维等特性，深度融合华为在数据库领域多年的研发经验，结合企业级场景需求，持续构建竞争力特性。

openGauss 7.0.0 RC1版本新增内核场景化、工具链、资源池化和兼容性等特性，并对若干关键缺陷进行了修改。本文主要描述了openGauss 7.0.0 RC1版本整体测试情况，重点从特性质量、专项测试和问题单统计等维度展开叙述。综合来看，openGauss 7.0.0 RC1版本整体质量良好。

# 2、测试版本说明

## 2.1 版本测试信息

| 版本名称                          | 测试起始时间 | 测试结束时间 |
| --------------------------------- | ------------ | ------------ |
| openGauss 7.0.0 RC1 Test round 1  | 2024/10/8    | 2024/10/30   |
| openGauss 7.0.0 RC1 Test round 2  | 2024/10/31   | 2024/11/6    |
| openGauss 7.0.0 RC1 Test round 3  | 2024/11/7    | 2024/11/13   |
| openGauss 7.0.0 RC1 Test round 4  | 2024/11/14   | 2024/11/20   |
| openGauss 7.0.0 RC1 Test round 5  | 2024/11/21   | 2024/11/27   |
| openGauss 7.0.0 RC1 Test round 6  | 2024/11/28   | 2024/12/4    |
| openGauss 7.0.0 RC1 Test round 7  | 2024/12/5    | 2024/12/11   |
| openGauss 7.0.0 RC1 Test round 8  | 2024/12/12   | 2024/12/18   |
| openGauss 7.0.0 RC1 Test round 9  | 2024/12/19   | 2024/12/25   |
| openGauss 7.0.0 RC1 Test round 10 | 2024/12/26   | 2025/1/8     |
| openGauss 7.0.0 RC1 Test round 11 | 2025/1/9     | 2025/1/15    |
| openGauss 7.0.0 RC1 Test round 12 | 2025/1/16    | 2025/1/22    |
| openGauss 7.0.0 RC1 Test round 13 | 2025/1/23    | 2025/2/5     |
| openGauss 7.0.0 RC1 Test round 14 | 2025/2/6     | 2025/2/12    |
| openGauss 7.0.0 RC1 Test round 15 | 2025/2/13    | 2025/2/19    |
| openGauss 7.0.0 RC1 Test round 16 | 2025/2/20    | 2025/2/26    |
| openGauss 7.0.0 RC1 Test round 17 | 2025/2/27    | 2025/3/5     |
| openGauss 7.0.0 RC1 Test round 18 | 2025/3/6     | 2025/3/12    |
| openGauss 7.0.0 RC1 Test round 19 | 2025/3/13    | 2025/3/18    |

## 2.2 测试环境

| 硬件型号                              | 硬件配置信息                                                 | 备注 |
| ------------------------------------- | ------------------------------------------------------------ | ---- |
| TaiShan 200 (Model 2280)              | CPU：Kunpeng-920 7260 2p 128核<br />内存：768G<br />硬盘：NVME 3T * 4<br />OS：openEuler release 20.03 (LTS)<br />文件系统：XFS<br />网卡：4*25GE Hi1822 |      |
| TaiShan 200 (Model 2280)              | CPU：Kunpeng-920 7260 2p 128核<br />内存：768G<br />硬盘：NVME 3T * 4<br />OS：openEuler release 22.03 (LTS)<br />文件系统：XFS<br />网卡：4*25GE Hi1822 |      |
| TaiShan 200 (Model 2480)              | CPU：Kunpeng-920 7260 4p 256核<br />内存：1T<br />硬盘：NVME 3T * 4<br />OS：openEuler release 20.03 (LTS)<br />文件系统：XFS<br />网卡：4*10GE |      |
| RH2288H V3                            | CPU：Intel(R) Xeon(R) Gold E5-2698 64核<br />内存：384GB<br />硬盘：SSD 2.9T <br />OS：CentOS Linux release 7.6.1810（Core）<br />文件系统：EXT4<br />网卡：4*10GE |      |
| 服务端<br />Taishan 200（Model 2280） | CPU：Kunpeng 920<br />内存：256GB<br />数据盘：2\*3.2TB NVME SSD<br />文件系统：EXT4<br />网卡：2\*25GE |      |
| 存储侧<br />OceanStore                | Dorado 18500 V6                                              |      |
| DCS/ECS虚拟机                         | 8核30G                                                       |      |
| 公有云虚拟机                          | 8核16G/8核32G/16核32G                                        |      |

虚拟化平台

| 虚拟化平台 | 版本说明                                                     |
| ---------- | ------------------------------------------------------------ |
| KVM虚拟化  | KVM+GuestOS（Centos7.6/OpenEuler20.03(LTS)/openEuler22.03(LTS)/openEuler24.03(LTS)） |

OS版本说明如下：

| 操作系统  | OS版本           | 版本说明                                                     |
| --------- | ---------------- | ------------------------------------------------------------ |
| OpenEuler | 20.03 (LTS)      | openEuler 20.03 (LTS)，aarch版本ISO<br />SHA256:3e7cb72d746c5385b02b7a4bf18360925145d13f06bbd41c1a137e545b651d40 |
| OpenEuler | 20.03 (LTS)      | openEuler 20.03 (LTS)，x86-64版本ISO<br />SHA256:419592be9cba55a2b800e761d865550f28133875920e7bb9c2d5cdaad90a9cbf |
| OpenEuler | 22.03（LTS）     | openEuler 22.03 (LTS)，aarch版本ISO<br />SHA256:8ee6e6ea6fe3af075846efb28196aac6edd50c99b663b0fc4651fa71195a68e6 |
| OpenEuler | 22.03（LTS）     | openEuler 22.03 (LTS)，x86-64版本ISO<br />SHA256:a07952feb2f9f0239143daf6cc061a396e09bbb3e26d8fbf38eeb21d0251bde0 |
| OpenEuler | 24.03（LTS）     | openEuler 24.03 (LTS)，aarch版本ISO<br />SHA256:9967f955f5b7637cf77bc4ecb69cb6ac3816d591357c374a53c0dbbfd5402ac9 |
| OpenEuler | 24.03（LTS）     | openEuler 24.03 (LTS)，x86-64版本ISO<br />SHA256:786b9683659512e71c978c34aea806a97ed6cacf04e1b0a22017a50eec582cbe |
| CentOS    | 7.6.1810（Core） | CentOS Linux release 7.6.1810（Core），x86-64版本ISO<br />SHA256:6d44331cc4f6c506c7bbe9feb8468fad6c51a88ca1393ca6b8b486ea04bec3c1 |

## 2.3 需求清单

openGauss 7.0.0 RC1版本是openGauss社区继续联合多方力量推出的版本，本次发布的需求列表、分工如下：

| 序号 | 需求                                                         | 开发主体      | 测试主体 | 验证策略                                                     |
| ---- | ------------------------------------------------------------ | ------------- | -------- | ------------------------------------------------------------ |
| 1    | 可维护性提升，维护视图支持更详细的等待粒度                   | StorageEngine | QA       | 1.开启业务之后，通过gs_lwlock_status函数验证lwlock锁的相关信息，通过pg_thread_wait_status验证dms线程的相关信息 2.各种故障场景下视图函数测试、性能测试。 |
| 2    | XLOG支持日志合一                                             | StorageEngine | QA       | 1.功能测试，覆盖流控参数设置、节点切换等 2.并开展tpcc、RTO性能测试，性能达成承诺指标；故障注入测试、7*24H稳定性测试。 |
| 3    | 资源池化临时表/unlogged表/物化视图支持页式存储               | StorageEngine | QA       | 1.功能测试，验证临时表、unlogged表、外表以及物化视图的DDL及DML、数据类型及索引约束等功能，验证数据准确性 2.验证临时表、unlogged表、外表以及物化视图在兼容库中的基本功能 3.验证在故障场景中临时表、unlogged表、外表以及物化视图功能测试 |
| 4    | openGauss资源池化支持双集群缩容至单集群                      | StorageEngine | QA       | 1.测试gs_ddr工具的适配，主要包含网络、存储双集群搭建、双集群主备集群倒换、备集群failover升主、双集群拆解等，覆盖功能、可靠性、升级、资料等测试。 |
| 5    | CM支持reform阶段内核hang检测                                 | StorageEngine | QA       | 1.测试在reform的rebuild page、flush copy、recovery、done的阶段注入故障，在规定时间内可以退出，覆盖功能、可靠性测试，在各种故障场景下reform阶段hang住能正常退出。 |
| 6    | 资源池化实时构建支持流控                                     | StorageEngine | QA       | 1.覆盖功能测试，流控参数设置、基本功能，包含节点切换 2.不同场景，对不同节点注入故障; 3.主备开启业务，稳定运行一定周期 |
| 7    | 备机有业务场景下支持在线failover                             | StorageEngine | QA       | 1.基本异常切换功能验证，覆盖failover所有支持场景 2.切换过程中二次故障构造测试 |
| 8    | multipath支持资源池化                                        | StorageEngine | QA       | 1.multipath多链路网络故障对资源池化集群的影响验证 2.multipath多链路资源池化集群7*24H周期稳定性测试 3.在不同的OS上验证multipath多链路支持资源池化集群 |
| 9    | LWLock支持超时等锁、X锁降级机制                              | StorageEngine | QA       | 1.tpcc性能测试，验证2p主机读写备机空载场景120w，主机读写备机只读场景220w等关键指标; 2.验证7*24小时稳定性测试，运行无异常 |
| 10   | 资源池化xlog支持归档                                         | StorageEngine | QA       | 1.覆盖功能测试，验证参数，归档以及PITR恢复功能 2.验证针对归档功能注入故障，查看对数据库的影响 |
| 11   | 极致RTO备机可读适配段页式                                    | StorageEngine | QA       | 1.覆盖功能测试，验证适配段页式功能无问题，性能测试达成承诺指标 2.验证7*24小时稳定性测试，运行无异常 |
| 12   | CBM tracking LSN的推进算法改进，使之更平滑，减少对XLog清理的影响 | StorageEngine | QA       | 1.测试cbm参数功能，验证设置方式、参数取值范围，DFX函数功能验证 2.验证7*24小时稳定性测试，开启定时全量、增量备份任务 |
| 13   | 内存控制和视图监控                                           | StorageEngine | QA       | 1.测试gs_shared_memory_detail、gs_thread_memory_context视图在不同特性下，不同业务模型下，主备节点统计DMS内存情况 2.在switchover & failover操作下，gs_shared_memory_detail、gs_thread_memory_context视图在不同特性下，不同业务模型下，切换后主备节点统计DMS内存情况 |
| 14   | 优化资源池化下共享盘文件io操作，解决dss故障导致的各类问题    | StorageEngine | QA       | 1.tpcc测试，不低于性能基线120w，实际测试性能120w+ 2.在数据库进行io操作过程中，手动执行kill掉cms、dssserver、down掉磁阵、断网、断电、主备切换、failover等操作。数据库日志对应的出现告警日志，不coredump |
| 15   | 资源池化支持虚拟机方式部署，支持非dorado方式的共享存储安装方式，支持NOF以及FCSAN存储接口 | StorageEngine | QA       | 1、测试openGauss资源池化架构在DCS虚机以及云虚拟化部署，在虚拟化部署后，特性可对外正常提供服务，包含基本功能测试、池化特性CI连跑、集中式用例移植连跑、可靠性测试、稳定性测试 |
| 16   | 优化autosave场景下的TPCC性能                                 | SQLEngine     | QA       | 1.测试几种不同的方式对参数进行设置，验证参数设置是否成功 2.对参数添加前后以及参数调优之后的场景进行tpcc性能测试，验证参数的添加与修改对性能的提升真实有效 |
| 17   | 资源池化场景下支持主备参数同步                               | StorageEngine | QA       | 1.开启业务之后，通过gs_lwlock_status函数去查看lwlock锁的相关信息，以及通过pg_thread_wait_status去查看dms线程的相关信息 2.各种故障场景下视图函数能正常显示 |
| 18   | 【资源池化】DSS 提供修复工具，假设元数据损坏，提供修复能力   | StorageEngine | QA       | 1.测试基础参数，ssrepair修改参数语法，异常点测试 2.修改部分元数据值，运行业务，若异常，再次修改为初始值 |
| 19   | OM、CM工具中用到的SSH SCP等相关通信工具支持用户自定义端口    | Tools         | QA       | 1.功能测试，修改SSH port后，执行全量CI脚本 2.测试多个python版本的环境上，功能正常； |
| 20   | 录制回放工具功能增强                                         | Tools         | QA       | 1.参数输入异常值时会报错，参数正常时相关功能正常运行。录制、解析、回放功能均可正常执行，中途无报错无异常，其他工具自身的功能已在采集mysql流量和采集openGauss时测试过 2.流式处理、模拟真实源端业务场景、查询结果对比等功能均可以正常执行，结果符合预期 3.流式处理过程中，录制进程中断时，如果参数parse.max.time的值合法且不为0，那么解析进程可以正常运行并退出，不受影响。流式处理过程中，解析进程中断时，如果参数replay.max.time的值合法且不为0，那么回放进程可以正常回放及退出，不受影响 4.整体开发质量良好，发现问题均已解决，客户可以通过资料正常使用录制回放工具增强特性，参数均已注明用途 |
| 21   | 录制回放工具支持采集A库流量                                  | Tools         | QA       | 1.参数输入异常值时会报错，参数正常时相关功能正常运行。录制、解析、回放功能均可正常执行，中途无报错无异常 2.性能测试，对解析tcpdump方式录制的网络文件时性能进行摸底测试。执行sql语句的同时启动录制回放工具，对原有进程性能影响不超过5% 3.可靠性测试，工具出现问题时可以及时报错并关闭进程，平时正常运行 |
| 22   | DataKit支持添加IPV6实例                                      | Tools         | QA       | 1.测试datakit管理ipv6数据库集群，从安装、导入、管理、监控全流程测试 2.测试datakit工具使用ipv6数据库，数据迁移、兼容性评估、业务开发、录制回放、智能参数调优全流程测试 |
| 23   | DataKit支持实时收集迁移工具的异常信息并展示                  | Tools         | QA       | 1.测试迁移性能不劣化 2.验证portal、chameleon、debezium、kafka工具内部抛出的异常正常捕捉 3.datakit升级、不同版本之间的兼容性测试 4.UI测试，提示信息及报错信息合理性测试 |
| 24   | DataKit支持PostgreSQL到openGauss的迁移能力                   | Tools         | QA       | 1.正向全量迁移验证数据类型边界值、对象（函数、触发器、存储过程、视图）、多模式、表及模式黑白名单配置、csv文件夹阈值。正向增量迁移分别验证pgoutput、wal2json插件下的数据类型边界值迁移 2.反向全量迁移验证数据类型边界值。反向增量迁移验证数据类型边界值、对象（函数、触发器、存储过程、视图）、反向增量断点续传 3.验证增量/反向迁移任务状态接口、启动增量/反向迁移任务接口、数据校验汇总信息查询接口、全量校验实时进度查询接口、全量校验修复文件下载接口正常、异常入参场景 |
| 25   | 支持记录升级历史记录                                         | Tools         | QA       | 1.gs_om -t query_upgrade_records查询结果校验; 2.不同部署方式、升级方式及升级场景下，测试查询结果，包括多次升级成功、回滚、升级失败组合，多个历史版本及当前版本组合; 3.升级后，执行扩容、缩容、failover、switchover等操作，校验各节点查询结果。 |
| 26   | 录制回放工具支持采集openGauss流量                            | Tools         | QA       | 1.参数输入异常值时会报错，参数正常时相关功能正常运行。录制、解析、回放功能均可正常执行，中途无报错无异常 2.对解析tcpdump方式录制的网络文件时性能进行摸底测试。执行sql语句的同时启动录制回放工具，对原有进程性能影响不超过5% 3.工具出现问题时可以及时报错并关闭进程，平时正常运行。 |
| 27   | openEuler集成openGauss企业版                                 | Tools         | QA       | 1.数据库安装卸载、目录层级、初始用户名、数据库版本、环境变量、启停状态查看、插件加载状态验证，新版本的基础功能验证。数据库系统工具、SQL功能、兼容B库模块的原有CI用例执行 2.openGauss数据库随操作系统升级而升级验证。 |
| 28   | DataKit支持解除对root权限的依赖                              | Tools         | QA       | 1.覆盖服务器管理、服务器监控、数据库安装、迁移插件、webDS、智能运维模块测试，包括功能测试、易用性测试等。 |
| 29   | 录制回放工具集成到Datakit                                    | Tools         | QA       | 1.录制回放工具集成到Datakit后基础功能测试、页面易用性测试、录制回放工具全流程测试，前后端数据一致性测试，故障场景测试。 |
| 30   | DATAKIT工具中用到的SSH SCP等相关通信工具支持用户自定义端口   | Tools         | QA       | 1.测试覆盖服务器管理、安装包管理、安装部署、数据迁移、集群管理、智能运维、兼容性评估工具模块，包括功能、易用性、可用性测试。 |
| 31   | DCC支持节点间数据build                                       | Tools         | QA       | 1.覆盖集群一主一备、一主两备场景下build，主备异常切换后、新主节点对备节点进行build，CM主节点故障重新选主后build，主机有正常读写业务场景下build，主节点累积大量日志场景下bulid，build失败场景下可自动rebuild。 |
| 32   | 支持openEuler 24.03LTS编译、运行                             | Tools         | QA       | 1.在24.03x86,24.03arm环境上编译，使用SERVER、CBB、THIRD-PARTY等升级测试 2.测试7*24H稳定性。 |
| 33   | CM支持安装管理IPV6的数据库集群                               | Tools         | QA       | 1.测试OM、CM具使用基础功能 2.全量CI测试，无OM、CM相关问题产生。 |
| 34   | DataKit适配断点续传功能                                      | Tools         | QA       | 1.验证kill掉source、sink、portal、重复kill源端、宿端进程以及停止源端、宿端数据库场景 2.验证全量校验单独展示、单表校验结果显示、异常信息提示、分页、修复文件下载场景 3.验证增量/反向迁移任务状态接口、启动增量/反向迁移任务接口、数据校验汇总信息查询接口、全量校验实时进度查询接口、全量校验修复文件下载接口正常、异常入参场景。 |
| 35   | 反向增量迁移支持并行逻辑解码                                 | Tools         | QA       | 1.datakit迁移套件页面新增参数、数据类型功能验证，原有断点续传、指定表迁移功能验 2.通过sysbench向目标端openGauss写入数据，反向迁移sink端速率达3w tps。 |
| 36   | O兼容性-支持GMS_XMLGEN高级包                                 | Plugin        | QA       | 1.在兼容A库下创建、删除插件 2.接口函数基础功能及在复杂场景下的验证 3.在非兼容A库下执行用例，验证是否有合理报错提示，数据库正常运 4.从6.0.0升级到7.0.0之后执行用例验证功能是否正确。 |
| 37   | 用于词法语法分析的openGauss sql审计工具                      | Plugin        | QA       | 1.验证单个DDL和DML多个语句组合sql审计测试 2.验证数据类型及各种函数表达式组合测试以及关键字和符号缺失 3.创建索引及删除和各类主键组合嵌套测试 4.语法分析的openGauss sql审计工具资料描述与需求相符，示例是否正确无误。 |
| 38   | O兼容性-被依赖的对象允许DDL修改的行为与A库一致               | Plugin        | QA       | 1.不同表类型创建视图，修改基表的列类型后，查询视图状态，视图置为无效状态。通过\d+或select查询视图后，视图状态恢复为有效 2.视图依赖普通表、分区表等，删除基表后，视图状态置为无效。查询视图报错。重建基表后，视图状态恢复为有效 3.创建视图在不同位置引用创建的自定义函数/存储过程/包。删除这些依赖对象后，视图置为无效状态，重建对象后，视图状态可恢复 4.视图依赖单表，及多表嵌套，视图的多层嵌套。删除被引用的视图后，视图对象变更为无效状态 5.从6.0.0升级到7.0.0之后，执行该特性用例，执行结果符合预期，功能正常。回滚后，修改基表的列类型，视图一直为无效状态 6.不同数据库兼容性下测试本特性，执行结果符合预期，本特性不区分数据库兼容性。 |
| 39   | O兼容性-支持GMS_RAW、GMS_MATCH高级包                         | Plugin        | QA       | 1.在兼容A库下创建、删除插件 2.接口函数基础功能及在复杂场景下的验证 3.在非兼容A库下执行用例，验证是否有合理报错提示，数据库正常运行 4.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 |
| 40   | MOT功能支持通过参数控制是否启用                              | SQLEngine     | QA       | 1.默认安装数据库，验证MOT特性控制开关参数设置方式及生效机制 2.编译数据库，验证参数生效机制，参数设置后，基础功能测试 |
| 41   | O兼容性-支持GMS_COMPRESS高级包                               | Plugin        | QA       | 1.测试compress压缩等级/输入空和不合理的字符/并发执行/句柄的边界值/反复打开压缩/添加数据边界值 /返回值是否正确 / 对应的上下文关系/ 连续执行打开和关闭报错/ 入参为null/ 反复嵌套执行等场景测试 2.测试uncompress解压等级/输入空和不合理的字符/并发执行/句柄的边界值/反复打开压缩/添加数据边界值 /返回值是否正确 / 对应的上下文关系/ 连续执行打开和关闭报错/ 入参为合理格式/入参为null/ 反复嵌套执行等场景测试 3.测试解压压缩上下文的句柄打开返关闭回返回值及并发执行场景测试。 |
| 42   | O兼容性-支持CROSS/OUTER APPLY JOIN语法                       | Plugin        | QA       | 1.测试cross apply作为select引用，结合表及where / order by/ group by/ 视图/ 存储过程/ 子查询/ 函数嵌套/ 嵌套自身/ 索引列等场景，并覆盖带default子句场景测试 2.测试outer apply作为select引用，结合表及where / order by/ group by/ 视图/ 存储过程/子查询/ 函数嵌套/ 嵌套自身/ 索引列等场景，并覆盖带default子句场景测试 3.测试lateral作为select引用，结合表及where / order by/ group by/ 视图/ 存储过程/ 子查询/ 函数嵌套/ 嵌套自身/ 索引列等场景，并覆盖带default子句场景测试。 |
| 43   | O兼容性-支持anytype/anydata/anydataset                       | Plugin        | QA       | 1.接口函数基础功能及在复杂场景下的验证 2.在非兼容A库下执行用例，验证功能是否支持，数据库 3.从6.0.0升级到7.0.0之后执行用例验证功能是否正确。 |
| 44   | O兼容性-支持GMS_STATS高级包                                  | Plugin        | QA       | 1.在兼容A库下创建、删除插件 2.接口函数基础功能及在复杂场景下的验证 3.在非兼容A库下执行用例，验证功能是否支持，数据库正常运行 4.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 5.使用jdbc驱动验证插件相关功能。 |
| 45   | 基础类型输出转换                                             | Plugin        | QA       | 1.基础类型转换字符输出功能验证 2.在预置数据后，验证基础类型转换字符串输入后性能提升是否符合预期 3.从6.0.0升级到7.0.0之后执行用例验证功能 |
| 46   | 支持并发导入interval分区                                     | Plugin        | QA       | 1.覆盖参数max_concurrent_autonomous_transactions为0、10、1024的正常和异常场景，考虑interva分区只能以data、timestamp、timestampz类型作为分区键，分区键只支持1个，同时考虑interval分区的五种不同创建方式，通过copy、长会话方式验证并行导入数据，交叉验证 2.关注长会话事务回滚分区正常和正常测试中出现异常情况下数据库的功能正常 3.验证级前后功能正常 |
| 47   | O兼容性-支持GMS_UTILITY高级包                                | Plugin        | QA       | 1.在兼容A库下创建、删除插件 2.接口函数基础功能及在复杂场景下的验证 3.在非兼容A库下执行用例，验证功能是否支持，数据库正常运行 4.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 5.使用python驱动验证插件相关功能 |
| 48   | SQL Server兼容性基础能力                                     | Plugin        | QA       | 1.创建兼容D类型数据库；D库支持创建shark插件但不支持删除 2. shark插件基本功能测试。词法解析测试；创建索引支持columnstore选项；创建自定义函数支持language为pltsql 3.多用户、多并发连接D库，使用插件功能；重启数据库，测试连接D库及插件功能是否正常 4.从6.0.0升级到7.0.0之后，未提交，创建D库报错；提交后创建D库成功，创建shark创建成功且插件功能正常 5.不同数据库兼容性下测试shark插件功能，执行结果符合预期 6.python驱动测试D库创建及shark插件基本功能；使用gs_dump导出及导入D库功能测试 |
| 49   | SQL Server常用语法兼容-PART1                                 | Plugin        | QA       | 1.在兼容D库下创建、删除插件 2.基本语法功能及在复杂场景下的验证 3.在非兼容D库下执行用例，验证功能是否支持，数据库正常运行 4.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 5.使用jdbc驱动验证插件相关功能 |
| 50   | NDP组件支持HCOM，构建护城河                                  | SQLEngine     | QA       | 1.NdpPlugin插件使能，通过配置文件参数使能，加载NdpPlugin插件、通过插件卸载算子查询，测试NdpPlugin插件正常使能/关闭场景下的数据库查询功能，LibSmartScan进程启动、关闭场景 2.白名单测试，支持Agg、SeqScan+Filter的逻辑在存储节点上运行，所有给予白名单的查询，算子识别下推则卸载对应特性返回查询结果，算子不识别下推则通过原生返回查询结果 3.Agg测试，对查询数据添加avg、count、max、min等聚合条件 4.SeqScan测试，选取多列、单列的值，所有数据表的值 5.性能测试 |
| 51   | 传统主备支持行列转换，备机支持列存查询                       | SQLEngine     | QA       | 1.cbm参数功能，参数设置方式，参数取值范围验证，DFX函数功能验证 2.执行tpcc业务，7*24H，开启定时全量&增量备份任务 |
| 52   | openGauss DataVec向量数据库能力增强，支持原生向量存储，支持IVF-FLAT/IVF-PQ/HNSW等向量索引类型，相比PGVector性能提升30%，相比EMR性能提升30% | SQLEngine     | QA       | 1.通过设置GUC参数进行验证，设置值与PQ加速插件具备情况组合测试，验证功能正常、异常情况合理报错 2.创建HNSWPQ、IVFPQ索引选项参数、不同索引距离覆盖验证；验证不同索引选项设置不同值后存储空间、执行时长、查询结果召回率准确度趋势验证，功能正常；不同SQL执行场景下可靠性场景验证正常 3.验证索引检索GUC参数功能验证、设置不同值对查询结果召回率准确性影响趋势正常；索引检索过程下可靠性场景验证正常 4.验证存在PQ功能的场景下升级、回滚功能正常 |
| 53   | SMP增强                                                      | SQLEngine     | QA       | 1.运行IUD用例，查看执行计划，stream算子上移至modifytable节点上 2.测试100w、1000w数据的性能提升 3.IUD用例持续执行100+次，运行无异常 4.分别在A、B、C、PG库下批量执行IUD用例 5.在IUD用例执行过程中停止数据库进程、gsql进程 |
| 54   | 快速自动化参数执行计划缓存                                   | SQLEngine     | QA       | 1.测试自动化参数开启时，支持的IUD语句以及不支持的语法和关键字执行情况 2.使用海量性能测试脚本进行性能测试 |
| 55   | 支持节点间页面/快照/传输加速使用UB-C通信                     | SQLEngine     | QA       | 1.RDMA与TCP 主机性能比对测试 2.资料测试                      |
| 56   | SQL算子溢盘流程内存借用加速                                  | SQLEngine     | QA       | 1.测试borrow_work_mem参数设置，参数边界值等 2.覆盖算子借用场景，算子不借用场景下，行存表、行转列、列存表、分区表，sort、Agge、Hash join、vector sonic hash join、vector sonic hash aggregate、vector hash join、vector hash aggregate等算子功能测试 3.覆盖RackServer服务断连等可靠性、性能测试 |
| 57   | HTAP行列融合支持内存借用                                     | SQLEngine     | QA       | 1.测试Imemfabri_client_path、enable_borrow_memory、max_borrow_memory、htap_borrow_mem_percent参数设置，参数边界值等 2.单机/主备场景下，构造使用本地内存、远端内存、产生临时文件各组合场景，分别覆盖全表转换、部分列转换、分区表转换、指定分区转换、指定分区部分列转换，及转换后取消、删除库、表是否释放内存等功能测试 3.覆盖RackServer服务断连等可靠性、性能测试 |
| 58   | IVF-PQ索引算法支持，融合PQ距离计算加速算法                   | SQLEngine     | QA       | 1.验证向量类型与其他数据类型转换功能是否正常、验证数据存储空间大小是否正确、验证向量数据类型数据增删改查功能正常 2.验证基础运算符、距离计算操作符功能是否正常，数据类型聚合函数、距离计算函数功能是否正常 3.创建HNSW、IVF索引选项参数、不同索引距离覆盖验证；验证不同索引选项设置不同值后存储空间、执行时长、查询结果召回率准确度趋势验证，功能正常；不同SQL执行场景下可靠性场景验证正常； 验证索引检索GUC参数功能验证、设置不同值对查询结果召回率准确性影响趋势正常；索引检索场景下可靠性场景验证正常 |
| 59   | 行存引擎支持通用页压缩                                       | SQLEngine     | QA       | 1.进行tpcc性能测试，经验证满足2p单机环境可以达到150w tpmc 2.7*24小时稳定性测试，运行无异常 |
| 60   | 段页式表空间支持通用页压缩                                   | SQLEngine     | QA       | 1.stop备机，主机创建段页式压缩表，备机执行全量build 2.stop备机，主机创建段页式压缩表并插入数据，备机执行全量build 3.主机创建段页式压缩表后插入数据，主备进行switchover 4.主机创建段页式压缩表后，主备切换后，在新主上插入数据，查询主备数据是否一致 5.主机创建段页式压缩表后插入数据，stop主机，备机进行failover 6.tpcc测试 |
| 61   | 【国创】Web DS支持保存和引用代码片段/Web DS数据库对象授权、撤销能力/Web DS SQL查询窗口增强 | Tools         | QA       | 1.验证SQL查询结果分页显示、返回行数限制 2.验证SQL查询结果导出 3. 验证可批量对多个用户/角色进行多个对象的赋权或撤销权限 4.验证对象、用户/角色支持根据名称搜索 5.验证操作日志显示、SQL预览、操作信息回填 6.验证新建/编辑/删除代码片段 7. 验证代码片段列表 8.验证导出代码片段到SQL终端 9.验证复制代码片段 |
| 62   | 【海量】CREATE/DROP PUBLIC SYNONYM                           | SQLEngine     | QA       | 1.验证语法正确，结合不同对象类型、调用场景进行覆盖测试 2.验证语法正确，结合不同对象类型、调用场景进行覆盖测试 3.在B、C、PG兼容模式下的数据库中验证功能正常 4.升级场景测试 |
| 63   | 【海量】FETCH语法增强                                        | SQLEngine     | QA       | 1.结合表类型、对象类型、复杂表达式、数据类型、调用场景等覆盖测试 2.在B、C、PG兼容模式下的数据库中验证功能正常 3.升级场景测试 |
| 64   | 【海量】物化视图功能增强，补齐功能，包括支持删除操作         | SQLEngine     | QA       | 1.支持创建删除物化视图日志按需求描述实现                     |
| 65   | 【海量】支持CREATE TYPE 加AS OBJECT                          | SQLEngine     | QA       | 1.兼容object type抽象类型按需求描述实现                      |
| 66   | 【海量】支持SUBTYPE                                          | SQLEngine     | QA       | 1.支持自定义subtype语法按需求描述实现                        |
| 67   | 【海量】支持GMS_LOB包                                        | Plugin        | QA       | 1.测试函数入参和出参功能正确，函数的调用场景 2.在B、C、PG兼容模式下的数据库中验证功能正常使用 3.升级场景测试 |
| 68   | 【海量】支持xmltype类型                                      | SQLEngine     | QA       | 1.结合表类型、对象类型、复杂表达式、ddl操作、复杂表达式、调用场景等覆盖测试 2.验证不同函数入参，结合表类型、对象类型、复杂表达式、ddl操作、调用场景等覆盖测试 3.在B、C、PG兼容模式下的数据库中验证功能 4.升级场景测试 |
| 69   | 【海量】存储过程 支持EXCEPTION FOR自定义异常                 | SQLEngine     | QA       | 在兼容A库下创建PL/pgSQL包含异常相关语法 2.在兼容A库下对函数的参数测试 3.在兼容A库下创建带有异常处理的嵌套块 4.在兼容A库下与自治事务、触发器、游标、gs_dump、用户权限结合测试 5.在非兼容A库下执行用例带有RAISE_APPLICATION_ERROR函数 6.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 |
| 70   | 【海量】支持在函数或者过程中创建过程                         | SQLEngine     | QA       | 1.在兼容A库下创建匿名块包含子程序、存储过程/函数包含子程序 2.A库下与package、自治事务、触发器、游标、gs_dump、用户权限结合测试 3.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 |
| 71   | 【海量】【vacuum】通用性能优化                               | SQLEngine     | QA       | 1.插入大数据量，测试耗时、内存占用 2.行存表、列存表、分区表在搭建索引前提下，对不同死元组数量进行vacuum测试，与之前的版本对比速度及内存占用情况 |
| 72   | 【南大】支持AGG函数 keep(DENSE_RANK FIRST ORDER BY AGG())语法； 支持AGG函数 keep(DENSE_RANK LAST ORDER BY AGG())语法 | Plugin        | QA       | 1.在兼容A库下执行keep语法 2.基础功能及在复杂场景下的验证keep语法 3.语法使用错误执行用例，验证是否有合理报错提示，数据库正常运行 4.百万条数据，使用keep语法输出结果 5.并发多个会话同时执行keep语法，确认输出结果正确 6.不同库下使用keep语法，输出结果符合预期 |
| 73   | 【南大】支持GMS_SQL包                                        | Plugin        | QA       | 1.验证接口功能及入参，包括异常场景测试 2.资料测试            |
| 74   | 【南大】支持GMS_TCP包                                        | Plugin        | QA       | 1.验证接口功能、入参异常、缺省等语法场景 2.接口开启连接后，各种数据库类故障如重启数据库等，验证是否可正常关闭连接，无内存泄漏 3.A、BC、PG库下分别验证接口可正常使用 4.高并发场景下发数据，验证不会出现数据乱码，紊乱 |
| 75   | 【南大通用】支持VACHAR/NVARCHAR/CHAR数据类型按字符存储，计算为字符长度，语法类似VARCHAR(size [Byte \| Char])，同时支持限定总大小 | Plugin        | QA       | 验证 CHAR和 BYTE关键字的基本功能 2.验证中英文，特殊符号等输入 3.验证不同字符集（如单字节和多字节字符集）下的行为 4.评估 CHAR和 BYTE定义对存储和查询性能的影响 5.验证在不同库和字符集配置下的兼容性 |
| 76   | 【软通】支持TO_TIMESTAMP、CAST、TO_NUMBER                    | Plugin        | QA       | 1.测试使用、不适用default功能的场景，覆盖边界值测试 2.开展性能测试 3.使用jdbc和odbc连接数据库，检验新增功能，观察是否有异常情况 4.安装6.0.0（LTS）2.6.0.0升级至7.0.0 3.7.0.0回滚到6.0.0 4.6.0.0再次升级至7.0.0 5.7.0.0升级提交，观察每次升级和回滚后的执行结果是否符合预期 |
| 77   | 【软通】系统函数兼容（支持nls_lower函数、支持的入参数据类型对标A库） | Plugin        | QA       | 1.对不同语言的支持情况 2.测试了被多重嵌套和多重嵌套其他函数的复杂场景 3.测试了在不同表达式中的使用情况 2.开展性能测试 3.使用jdbc和odbc连接数据库，检验新增功能，观察是否有异常情况 4.安装6.0.0（LTS）2.6.0.0升级至7.0.0 3.7.0.0回滚到6.0.0 4.6.0.0再次升级至7.0.0 5.7.0.0升级提交，观察每次升级和回滚后的执行结果是否符合预期 |
| 78   | 【神通】支持JSON_EXISTS表达式、支持JSON_TEXTCONTAINS表达式   | SQLEngine     | QA       | 1.验证入参为非json、json、空值等类型 2.入参为没有查询权限的表的列 3.单用户，100万行数据，查询性能与异构库A对比 |
| 79   | 【神通】多表视图更新/删除                                    | SQLEngine     | QA       | 1.多表视图更新、删除功能测试，包含异常测试 2.更新视图需要有视图的update、select权限，删除视图需要有视图的delete权限 3.100万行、1000万行数据，单用户更新/删除1行，与A库对比 4.兼容A、B、C、D模式库测试 |
| 80   | 【神通】完善PL中的type、record                               | SQLEngine     | QA       | 1.覆盖功能测试，record类型、varray类型、table of类型 2.兼容A、B、C、PG，table of在A中兼容 3.驱动JDBC验证 |
| 81   | 【神通】高级包DBMS_ASSERT                                    | Plugin        | QA       | 1.基本功能测试，入参类型、参数有效性测试 2.只兼容A模式，其他模式不兼容，报函数不存在 3.驱动JDBC验证，Yat工具执行自动化测试用例 |
| 82   | 【中移】支持NLS_INITCAP、TO_CHAR、NEW_TIME、BIN_TO_NUM、EXTRACT函数 | SQLEngine     | QA       | 1.包含函数入参格式校验、表类型测试、嵌套其他函数、DML中使用、各种查询语法中使用、结合plsql和视图的测试、普通用户使用该函数、以及在不同的对象中使用（触发器、同义词、索引、约束） 2.在B、C、PG兼容模式下的数据库中验证功能正常使 3.升级场景测试 |
| 83   | 【中移】NTH函数增强                                          | SQLEngine     | QA       | 1.分别指定或者不指定该选项时测试、结合不同类型表使用该语法，表中数据情况测试、NTH_VALUE函数第二个参数边界值测试、DML语句中使用，结合视图、结合不同窗口类型测试 2.分别指定或者不指定该选项时测试、结合不同类型表使用该语法，表中数据NULL值情况覆盖 3.在B、C、PG兼容模式下的数据库中验证功能正常使用 4.升级场景测试 |
| 84   | 【中移】UTL_INADDR.GET_HOST_ADDRESS UTL_INADDR.GET_HOST_NAME UTL_I18N.RAW_TO_CHAR UTL_I18N.STRING_TO_RAW | SQLEngine     | QA       | 1.在兼容A库下创建、删除插件 2.接口函数基础功能及在复杂场景下的验证 3.在非兼容A库下执行用例，验证是否有合理报错提示，数据库正常运行 4.多次调用包函数，执行时间与A相比，在10%以内 5.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 |
| 85   | 【中移】支持CORR_S/CORR_K函数                                | SQLEngine     | QA       | 1.使用CORR_S/CORR_K函数，验证结果 2.各种场景调用CORR_S/CORR_K函数 3.大数据量调用corr_s和corr_k函数 4.从6.0.0升级到7.0.0之后执行用例验证功能是否正确 |
| 86   | 【中移】支持ALTER INDEXE NABLE/DISABLE                       | SQLEngine     | QA       | 1.结合函数索引使用该DDL语法，索引启用逻辑正常；并与其他DDL语法结合使用；表类型/索引类型的覆盖测试 2.结合函数索引使用该DDL语法，索引启用逻辑正常；并与其他DDL语法结合使用；表类型/索引类型的覆盖测试 3.在B、C、PG兼容模式下的数据库中验证功能正常使用 4.升级场景测试 |
| 87   | 【中移】smp支持串行                                          | SQLEngine     | QA       | 验证新增功能支持SMP计划与串行计划共存，验证其在openGauss数据库的使用正常和性能无恶化 |
| 88   | 【邮储】金融版本：内核支持访问控制                           | SQLEngine     | QA       | 1.不同用户在远程执行 DDL 是否符合预期                        |
| 89   | 【邮储】通过OM工具进行升级时，应控制支持的版本升级路径，对于不支持的版本升级路径应报错 | Tools         | QA       | 1.构建低版本升级至高版本的测试场景<br/>2.构建高版本回退低版本的测试场景 |

# 3、版本概要测试结论

openGauss 7.0.0 RC1版本整体测试按照release-manager团队的计划，版本测试规划采取16+2+1的测试方式，即16轮系统测试+2轮集成验证+1轮回归测试的策略，实际完成了16轮系统测试+2轮集成验证+并行3轮回归测试：

Test round 1版本至Test round 10版本进行需求验收及问题单验收，主要涉及工具链、资源池化、兼容性和少量内核加速的新特性设计及验收，同时对继承测试开展多轮的全量CI测试，覆盖可靠性、安全、性能、长稳、升级等测试。

Test round 11版本至Test round 14版本对工具链、内核加速、资源池化和兼容性特性测试设计，并对这四个方面的新特性进行验收，同时开展3轮的全量CI测试，重点覆盖性能、长稳、可靠性测试，并对已修复的问题单进行回归和对已验收完成特性测试报告进行评审。

Test round 15版本至Test round 16版本主要进行需求验收，对已修复的问题单进行回归和对已验收完成特性测试报告进行评审。

Test round 17版本至Test round 18版本开展全量集成测试，覆盖工具链、兼容性、内核、资源池化等继承能力测试，涉及功能、可靠性、安全、性能、长稳、升级、资料领域，累计执行测试用例7.4w+个，并覆盖两轮7*24H长稳测试，保证社区版本基础功能正常、稳定性良好，期间对每个特性的测试报告进行评审优化。Test round 17版本至Test round 19版本集中验收问题单，例行展开自动化测试，对关键指标、功能进行看护，防止修改引入新的问题。

openGauss 7.0.0 RC1版本按照测试策略完成了全量功能验证和专项测试（性能、可靠性、稳定性、兼容性、安全和资料等），所有测试任务均按计划完成。本版本计划交付需求89个，实际交付89个，交付率100%，所有发布需求均验证通过。

openGauss 7.0.0 RC1版本共发现有效问题1130个。修复问题回归测试结果正常，版本整体质量良好。遗留2个问题，详见附件1遗留问题列表。

# 4、版本详细测试结论

openGauss 7.0.0 RC1版本详细测试内容包括：

1、通过自动化看护，从数据库服务、数据库运维管理、数据库备份恢复、数据库兼容性、系统性能、系统可靠性6个维度进行openGauss继承特性测试，继承功能无丢失；

2、在内核场景化的竞争力构建上，增加对传统主备支持行列转换、行存压缩等能力，增强DataVec向量数据库能力；另外对资源池化场景进行增强，如资源池化实时构建支持流控、极致RTO备机可读适配段页式、资源池化支持虚拟机方式部署等，测试覆盖上述需求，关注功能的实现和规格的达成。但后续仍需从资源池化可靠性、竞争力的角度出发，持续进行加固测试和关键指标验证；

3、在工具链方面，覆盖Datakit继承特性、新特性测试，对DatiKit数据迁移、集群管理等易用性提升，同时增强录制回放工具功能和多数据库兼容、增加对IPV6的支持等。后续仍需对工具的易用性和稳定性提高要求。

4、在兼容性方面，测试A兼容性新增语法、函数和高级包等需求，A兼容性进一步提升。并在D库做了兼容，验证支持D库基础能力和语法兼容等需求。

5、针对系统的稳定性，进行长稳测试，包括事务并发测试、benchmarksql+sysbench加压测试和sqlsmith测试等，数据库满足7*24H正常运行，测试较为充分，产品稳定性好；

6、专项测试包括性能专项、安全专项、兼容性测试、可靠性测试和资料测试。

## 4.1 特性测试结论

### 4.11 继承特性评价

对产品所有继承特性进行评价，用表格形式评价，包括特性列表（与特性清单保持一致），验证质量评估

| Domain           | Feature            | 质量评估                   | 备注                                                         |
| ---------------- | ------------------ | -------------------------- | ------------------------------------------------------------ |
| DataKit          | 插件管理           | <font color=green>▮</font> | 测试插件管理模块，关注该模块下各子特性功能正常及界面显示正常 |
|                  | 安全中心           | <font color=green>▮</font> | 测试安全中心模块，关注各子特性功能正常及界面显示正常         |
|                  | 日志中心           | <font color=green>▮</font> | 测试日志中心模块，关注各子特性功能正常及界面显示正常         |
|                  | 资源管理           | <font color=green>▮</font> | 测试资源管理模块，验证资源管理功能，界面显示正常             |
|                  | 安装部署           | <font color=green>▮</font> | 测试安装部署模块，验证安装部署流程正常，界面显示正常         |
|                  | 业务建模           | <font color=green>▮</font> | 测试业务建模模块，关注各子特性功能正常及界面显示正常         |
|                  | 基础运维           | <font color=green>▮</font> | 测试基础运维模块，关注各子特性功能正常及界面显示正常         |
|                  | 智能运维           | <font color=green>▮</font> | 测试智能运维模块，关注各子特性功能正常及界面显示正常         |
|                  | 告警监控           | <font color=green>▮</font> | 测试告警监控模块，关注各子特性功能正常及界面显示正常         |
|                  | 数据迁移           | <font color=green>▮</font> | 测试迁移功能，迁移前后数据一致性校验                         |
|                  | 监控插件工具       | <font color=green>▮</font> | 测试监控插件功能，界面显示正常                               |
|                  | 业务开发           | <font color=green>▮</font> | 测试业务开发模块，关注各子特性功能正常及界面显示正常         |
|                  | 兼容性评估         | <font color=green>▮</font> | 测试兼容性评估模块，关注各子特性功能正常及界面显示正常       |
|                  | 录制回放           | <font color=green>▮</font> | 测试录制回放模块，关注各子特性功能正常及界面显示正常         |
|                  | datakit_安装部署   | <font color=green>▮</font> | 测试安装部署、启停、兼容性                                   |
|                  | datakit_系统可靠性 | <font color=green>▮</font> | 测试系统级长稳、性能、可靠性、内存                           |
|                  | datakit_升级       | <font color=green>▮</font> | 测试平台与含插件升级                                         |
| 数据库服务       | SQL语法            | <font color=green>▮</font> | 继承已有测试能力，支持DDL/DML/DCL/DQL语句，不同特性组合下用户、权限的验证(含资源池化、兼容性)(表/视图/索引等基础对象，fdw、postgis、物化视图) (含资源池化、兼容性) |
|                  | 功能SQL            | <font color=green>▮</font> | 继承已有测试能力，vacuum、analyze、explain、事务(含自治事务)、审计、安全&加密、AI特性、密态等值查询、账本数据库、逻辑复制 |
|                  | 主备管理           | <font color=green>▮</font> | 继承已有测试能力，极致RTO、switchover、failover等            |
|                  | guc参数控制        | <font color=green>▮</font> | 继承已有测试能力，不同参数影响sql的执行效果，应该放到各个sql模块云设计；这里仅验证参数生效和组合场景 |
|                  | 内核工具链         | <font color=green>▮</font> | 继承已有测试能力，gs_ctl/gstrace/perctrl/pg_config/pagehack/pg_recvlogic/pg_controldata/pg_xlogdump/pg_resetxlog/gs_restore等 |
|                  | 资源负载管理       | <font color=green>▮</font> | 继承已有测试能力，gs_cgroup验证                              |
| 数据库备份恢复   | 物理备份/恢复      | <font color=green>▮</font> | 继承已有测试能力，支持物理全量/增量备份能力，还原能力，恢复能力，基于时间点恢复能力 |
|                  | 逻辑备份/恢复      | <font color=green>▮</font> | 继承已有测试能力，逻辑备份/还原支持对指定库、指定表、指定一组对象（某个模式所属对象）进行备份及还原 |
|                  | PITR、日志归档     | <font color=green>▮</font> | 继承已有测试能力，全量PITR物理恢复                           |
|                  | 延时备份           | <font color=green>▮</font> | 继承已有测试能力，支持延迟备份                               |
| 数据库管理与运维 | 安装卸载           | <font color=green>▮</font> | 继承已有测试能力，测试数据库安装、卸载全流程                 |
|                  | 升级               | <font color=green>▮</font> | 测试带业务操作下多升级路径覆盖，升级成功后，特性功能运行正常 |
|                  | 实例管理           | <font color=green>▮</font> | 测试主备高可用(switchover/failover)、重启、启停              |
|                  | 运维视图           | <font color=green>▮</font> | 测试系统表与系统视图、系统schema(如dbe_perf、information_schema、WDR、pldebugger、db4ai等) |
| 数据库兼容性     | 环境兼容           | <font color=green>▮</font> | 测试硬件兼容、操作系统兼容、依赖软件版本                     |
|                  | 驱动兼容           | <font color=green>▮</font> | 测试jdbc/odbc/libpq/psycopg2等 mysql兼容(协议兼容、类型兼容)继承已有测试能力，支持JDBC、ODBC、PDBC、GDBC驱动 |
|                  | 生态兼容           | <font color=green>▮</font> | 测试ORM(mybatis)，连接池(druid)                              |
|                  | mysql兼容性        | <font color=green>▮</font> | 测试SQL语法（单双引号、反引号、关键字、类型、函数、操作符等）、通信协议 |
|                  | oracle兼容性       | /                          | /                                                            |
|                  | pg兼容性           | /                          | /                                                            |
|                  | 资源池化兼容性     | <font color=green>▮</font> | 测试资源池化特性，双集群极致RTO、网络复制双集群、refrom、主备实时一致性 |
| 系统性能         | 系统性能           | <font color=green>▮</font> | 测试2P/4P性能、主备、RTO(含兼容性、资源池化)                 |
| 系统可靠性       | 系统可靠性         | <font color=green>▮</font> | 故障注入测试，包含MOT、兼容性、资源池化等内存专项、长稳、    |
| 资源池化         | reform             | <font color=green>▮</font> | 测试集群对外提供服务高可用能力                               |
|                  | 极致RTO\按需回访   | <font color=green>▮</font> | 测试主机故障后集群不可用情况快速恢复提供服务的能力           |
|                  | 双集群             | <font color=green>▮</font> | 测试资源池化双集群容灾能力测试，保障主备集群切换功能正常     |
|                  | 非池化场景能力继承 | <font color=green>▮</font> | 测试包含语法兼容性、工具等用例，保证资源池化场景下非池化能力不丢失 |
| 内核加速         | ustore             | <font color=green>▮</font> | 测试ustore相关存储、索引、闪回等特性用例，保障ustore功能正常 |

<font color=red><font color=red>●</font></font>： 表示特性不稳定，风险高

<font color=yellow><font color=yellow>▲</font></font>： 表示特性基本可用，遗留少量问题

<font color=green>▮</font>： 表示特性质量良好

### 4.12 新需求评价

建议以表格的形式汇总新特性测试执行情况及遗留问题单情况的评估，给出特性质量评估结论。

| 特性名称                                                     | 测试情况说明                                                 | 约束                                                         | 质量点灯                   | 遗留问题 |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------- | -------- |
| 可维护性提升，维护视图支持更详细的等待粒度                   | 主要验证开启业务之后，通过gs_lwlock_status函数去查看lwlock锁的相关信息，以及通过pg_thread_wait_status去查看dms线程的相关信息，覆盖功能、可靠性测试，累计执行测试用例18个，整体开发质量良好。 | 1.集群正常运行<br/>2.dms相关功能须在资源池化场景下进行       | <font color=green>▮</font> | 无       |
| XLOG支持日志合一                                             | 主要测试openGauss资源池化日志合一场景下，对外提供服务是否正常可靠，包含基本功能测试、可靠性测试、稳定性测试、升级测试、性能测试等，CI执行测试用例3.8W+个，测试过程中发现2个问题，整体开发质量良好。 | 1.不支持多主共享存储<br/>2.不支持主备独立存储                | <font color=green>▮</font> | 无       |
| 资源池化临时表/unlogged表/物化视图支持页式存储               | 覆盖临时表、页式表、unlogged表、物化视图和外表的创建、修改、查询以及删除等功能，主要包含功能测试，可靠性测试以及升级测试，输出测试用例65条，执行65条，执行测试3轮，发现问题3个。 | 1.资源池化集群                                               | <font color=green>▮</font> | 无       |
| openGauss资源池化支持双集群缩容至单集群                      | 验证gs_ddr工具的适配情况，使用该工具是否能够实现单双集群的切换主要包含：网络、存储双集群搭建、双集群主备集群倒换、备集群failover升主、双集群拆解等，测试范围包含基本功能测试、可靠性测试、升级测试、资料测试等，输出用例58条，测试过程中发现11个问题，整体开发质量一般。 | 无                                                           | <font color=green>▮</font> | 无       |
| CM支持reform阶段内核hang检测                                 | 覆盖在reform的rebuild page、flush copy、recovery、done的阶段注入故障，在规定时间内可以退出，包含功能、可靠性测试等，共计执行30个用例，发现问题1个，整体开发质量良好。 | 1.仅支持资源池化                                             | <font color=green>▮</font> | 无       |
| 资源池化实时构建支持流控                                     | 主要测试资源池化下在开启实时构建特性后，主机开启流控功能后，主节点流量控制的能力，以及流控参数和实时构建特性的组合场景下，流控能力是否正确可靠，包含基本功能、可靠性场景测试、稳定性测试、性能测试以及资料测试，输出用例95个，执行两轮，发现issue共5个，整体开发质量良好。 | 1.资源池化实时构建                                           | <font color=green>▮</font> | 无       |
| 备机有业务场景下支持在线failover                             | 主要测试资源池化集群内主节点故障后集群内failover流程可以正常进行，主要包含可靠性场景测试，输出测试用例34个，执行测试4轮，发现issue共6个，所有提出问题已修复并回归通过，整体开发质量一般。 | 1.资源池化集群                                               | <font color=green>▮</font> | 无       |
| multipath支持资源池化                                        | 覆盖功能、可靠性、性能、稳定性测试以及资料测试，验证multipath多链路可以支持资源池化集群，输出测试用例41个，测试过程中发现问题1个，已全部回归通过，整体开发质量良好。 | 1.资源池化集群，多链路磁阵网络处于同一网段                   | <font color=green>▮</font> | 无       |
| LWLock支持超时等锁、X锁降级机制                              | 测试项包含tpcc性能测试、7*24小时稳定性测试等。发现问题0个，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 资源池化xlog支持归档                                         | 测试在openGauss资源池化集群环境下，支持备份恢复及通过归档的xlog进行PITR恢复，覆盖功能测试，可靠性测试以及升级测试，输出测试用例35条，执行35条，执行测试1轮，发现问题2个。 | 1.资源池化集群                                               | <font color=green>▮</font> | 无       |
| 极致RTO备机可读适配段页式                                    | 主要测试资源池化容灾集群和传统单集群下，开启极致RTO特性，池化备集群和传统备节点针对不同段页式对象的只读情况测试，主要包含基本功能、可靠性、稳定性测试，性能摸底测试，输出测试用例77个，执行测试6轮，发现issue 13个，部分问题已修复并回归通过，因存在阻塞性以及低概率偶现问题，整体质量一般 | 无                                                           | <font color=green>▮</font> | 无       |
| CBM tracking LSN的推进算法改进，使之更平滑，减少对XLog清理的影响 | 测试传统集群、资源池化集群内开启enable_cbm_tracking参数，打开增量备份功能，在业务运行中进行全量、增量备份，主要包含功能场景测试，输出测试用例10个，执行测试2轮，发现问题3个，所有问题已修复并回归通过，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 内存控制和视图监控                                           | 测试资源池化集群内主备节点对DMS进行内存申请的地方，设计不同context在gs_shared_memory_detail、gs_thread_memory_context视图中对不同线程进行管理，主要包含功能&可靠性测试场景，输出测试用例32个，执行测试2轮，发现issue3个，第二轮主要为issue验收回归，所有问题已修复并回归通过，整理质量良好。 | 1.资源池化集群                                               | <font color=green>▮</font> | 无       |
| 优化资源池化下共享盘文件io操作，解决dss故障导致的各类问题    | 测试在节点变更的情况下，cm、dss、gaussdb进程退出逻辑优化，保证各服务可以优雅推出；异常场景下openGauss io操作优化，因为DSS故障导致的文件操作失败，避免直接PANIC导致coredump，并增加充实或逃生功能。覆盖可靠性测试、性能测试，共执行8个用例，未发现issue，无遗留问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 资源池化支持虚拟机方式部署，支持非dorado方式的共享存储安装方式，支持NOF以及FCSAN存储接口 | 测试openGauss资源池化架构在DCS虚机以及云虚拟化部署，在虚拟化部署后，特性可对外正常提供服务，包含基本功能测试、池化特性CI连跑、集中式用例移植连跑、可靠性测试、稳定性测试，累计CI执行测试用例3.8W+个，发现1个问题，整体开发质量良好。 | 1.存储DCS虚机部署<br/>2.云上（如华为云）部署需要共享盘       | <font color=green>▮</font> | 无       |
| 优化autosave场景下的TPCC性能                                 | 主要覆盖了新参数num_slru_buffers的配置及调优后的性能测试场景，共计执行4个用例，共发现1个问题单，已经验收通过，整体开发质量良好。 | 1.测试结果中的处理时间指的是openGauss的处理时间，不包含其他第三方业务的处理时间<br/>2.性能测试是在实验室网络环境下，搭建测试环境并进行的性能测试，网络条件较稳定，不考虑现网与实验室的网络条件差异<br/>3.使用benchmarkSQL工具模拟压力场景，代表的仅是已知业务模型，没有特殊业务场景，不能代表在现网复杂场景下的实际处理能力<br/> | <font color=green>▮</font> | 无       |
| 资源池化场景下支持主备参数同步                               | 测试直接在postgres和pg_hba文件更改参数、gs_guc set、gs_guc reload更改参数 ，在switchover和failover后更改参数，看是否会同步参数，包含功能、可靠性、资料测试等，共计执行42个用例，发现问题0个，整体开发质量良好 | 1.部分GUC参数是节点保留参数，不进行同步<br/>2.特性支持的参数同步必须依赖postgresql.conf文件或pg_hba.conf文件<br/>3.加载配置文件时，遵守参数类型的加载规则，postmaster类型的参数必须重启节点才能生效<br/>4.本特性仅支持SIGHUP级别的动态参数加载，对于postmaster类型的参数，只能通过同步流程将参数同步到备机的配置文件中，无法加载<br/>5.同步流程中如果发生failover或switchover进行换主时，大部分情况都能同步最新参数，部分极端场景下需要用户在新主节点重新配置最新参数，比如在主机维护共享配置文件期间主机异常退出，会导致共享配置文件的内容无法被更新<br/>6.集群重启场景不支持同步ss_interconnect_channel_count和ss_interconnect_url这类参数，原因是只有在节点正常启动后才能进入同步流程，而这类参数如果在启动前主备不一致的话，节点无法正常启动。正常集群启动状态因为postmaster级别参数不会加载所以可以同步到配置文件中。 | <font color=green>▮</font> | 无       |
| 【资源池化】DSS 提供修复工具，假设元数据损坏，提供修复能力   | 测试资源池化集群内，通过dsstbox ssrepair元数据修复工具，修改不同数据类型所对应的值是否可以修改成功，主要为基本功能测试，输出测试用例15个，执行测试2轮，发现issue1个，问题已修复并回归通过，整体开发质量良好。 | 1.修改DSS元数据功能属于高危操作，需在技术人员指导下进行<br/>2.仅用于极端条件下的逃生手段，部分场景只能校验修改字段的合法性，合理性需计算确认<br/>3.dssserver拉起时修改元数据可能会导致数据被二次覆盖，因此需停止集群。 | <font color=green>▮</font> | 无       |
| OM、CM工具中用到的SSH SCP等相关通信工具支持用户自定义端口    | 1.测试CM工具依赖ssh scp等通信工具支持自定义SSH端口，覆盖功能测试、可靠性测试、资料测试，发现2个问题均已修复，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 录制回放工具功能增强                                         | 测试覆盖了流式处理、模拟真实源端业务场景、查询结果对比等场景，共计执行6个用例，整体开发质量良好。 | 1.该特性主要在linux系统上进行，支持mysql和openGauss3.0.5以上版本，A库和B库均可使用。 | <font color=green>▮</font> | 无       |
| 录制回放工具支持采集A库流量                                  | 测试覆盖了录制回放工具的参数配置及基础功能、对录制的sql进行采集、解析并回放到A兼容性数据库，共计执行20个用例，发现2个问题单，整体开发质量良好。 | 1.该特性主要在linux系统上进行，支持在openGauss6.0.0以上版本的A兼容性库上回放A兼容。 | <font color=green>▮</font> | 无       |
| DataKit支持添加IPV6实例                                      | 测试覆盖datakit所有插件的功能、资料，累计执行测试用例55个，发现问题3个均已修复，整体开发质量一般。 | 无                                                           | <font color=green>▮</font> | 无       |
| DataKit支持实时收集迁移工具的异常信息并展示                  | 测试datakit迁移（线迁移、离线迁移、全量迁移、增量迁移、反向迁移）的功能，性能、兼容性，覆盖各迁移工具的的异常报错场景，累计执行64个测试用例，总计发现问题4个均已修复，开发质量良好。 | 1.datakit和potal的版本均为7.0.0-RC1版本及以上时才支持该功能。 | <font color=green>▮</font> | 无       |
| DataKit支持PostgreSQL到openGauss的迁移能力                   | 覆盖功能测试，性能测试，功能验证数据类型边界值、对象（函数、触发器、存储过程、视图）、多模式、表及模式黑白名单配置、csv文件夹阈值、数据一致性测试,反向增量迁移断点续传验证。性能测试，基于sybench预置数据，20张表(无主键表)，每张表500w条数据，全量迁移速率达300M/s。正向增量使用pgoutput插件，基于sysbench, 50张表，50线程（insert30、update10、delete10）,性能可达3wtps，使用wal2json插件,基于sysbench, 50张表，50线程（insert30、update10、delete10）,性能可达2wtps。执行146个测试用例，发现15个问题（其中内核不兼容3个），遗留问题0，整体开发质量良好 | 1.正向全量迁移不支持唯一约束、非空约束、外键约束、check约束<br/>2.正向全量迁移不支持自定义类型的迁移、其他对象的迁移（序列、数据库用户、权限）<br/>3.正向全量迁移不支持表结构comment信息、schema级、表级、列级字符集和字符序等信息的迁移<br/>4.正向增量迁移不支持断点续传<br/>5.正向增量迁移中目前最多支持二维数组迁移且需要使用pgoutput插件<br/>6.内核不兼容的类型暂不支持迁移<br/>7.反向增量迁移不支持列存和Ustore存储引擎<br/>8.反向增量迁移不支持分区表、分区索引、隐藏索引、重建索引<br/>9.反向增量迁移alter view/type/schema仅支持rename<br/>10.type类型仅支持复合类型与枚举类型 | <font color=green>▮</font> | 无       |
| 支持记录升级历史记录                                         | 测试使用gs_om -t query_upgrade_records工具查询升级记录，包含功能测试、安全测试、可靠性测试及资料测试，输出测试用例30个，执行测试共2轮，发现issue共7个，1个重复问题取消，其余均已修复并回归通过，无遗留问题，整体开发质量良好。 | 1.仅支持OM部署下的升级，容器升级未适配<br/>2.支持单机以及主备集群，支持CM部署<br/>3.只在7.0.0-RC1及之后版本生效，老版本升级到带入本需求的新版本时，会产生记录,老版本升级回滚后记录不丢失<br/>4.只考虑灰度升级。 | <font color=green>▮</font> | 无       |
| 录制回放工具支持采集openGauss流量                            | 测试覆盖参数配置及基础功能、两种方式录制openGauss的sql语句的功能、对tcp方式录制的网络文件的解析、对采集到的sql语句的进行回放等场景，共计执行16个用例，发现3个问题均已修复，整体开发质量良好。 | 1.该特性主要在linux系统上进行，支持openGauss3.0.5以上版本，A库和B库均可使用。 | <font color=green>▮</font> | 无       |
| openEuler集成openGauss企业版                                 | 测试覆盖数据库系统工具、SQL功能、数据库升级、兼容B库模块。总计执行11 个测试用例，发现3个问题，遗留问题0，整体开发质量良好。 | 1.不包含mot功能、om、cm等外部组件，只有纯数据库内核功能<br/>2.无法直接从2.1.0升级至6.0.0，软件升级终止并给出提示。 | <font color=green>▮</font> | 无       |
| DataKit支持解除对root权限的依赖                              | 测试覆盖包括服务器管理、服务器监控、数据库安装、迁移插件、webDS、智能运维模块，开展3轮测试，累计执行16个用例，发现4个问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 录制回放工具集成到Datakit                                    | 测试覆盖了页面易用性测试，录制回放工具全流程测试，前后端数据一致性测试，故障场景测试及资料测试，累计执行测试用例40个，发现问题15个，需求开发质量一般。 | 使用录制回放工具前，需要使用全量迁移将源端和目标端的数据进行同步。否则会出现sql回放执行失败的情况。 | <font color=green>▮</font> | 无       |
| DATAKIT工具中用到的SSH SCP等相关通信工具支持用户自定义端口   | 测试覆盖服务器管理、安装包管理、安装部署、数据迁移、集群管理、智能运维、兼容性评估工具模块，包括功能、易用性、可用性测试，累计执行20个用例，发现1个问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| DCC支持节点间数据build                                       | 测试项包含集群一主一备、一主两备场景下build，主备异常切换后、新主节点对备节点进行build，CM主节点故障重新选主后build，主机有正常读写业务场景下build，主节点累积大量日志场景下bulid，build失败场景下可自动rebuild等。累计执行8个测试用例，整体开发质量良好。 | 1.需要满足CM主节点正常工作<br/>2.仅支持传统主备              | <font color=green>▮</font> | 无       |
| 支持openEuler 24.03LTS编译、运行                             | 测试覆盖功能、长稳、升级、资料，测试执行共两轮，累计执行20个测试用例，发现2个问题均已修复，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| CM支持安装管理IPV6的数据库集群                               | 测试覆盖OM、CM工具用例自动化连跑及CM数据库安装、升级、卸载、扩容、缩容，累计执行测试用例41个，整体开发质量良好。 | 1.ipv4和ipv6不能混用<br/>2.环境为ipv6配置<br/>3.使用普通用户安装 | <font color=green>▮</font> | 无       |
| DataKit适配断点续传功能                                      | 覆盖功能、接口测试，验证kill掉source、sink、portal以及停止源端、宿端数据库场景；全量校验在datakit页面进度展示完整，异常信息提示准确，异常修复sql可下载以及openGauss侧可执行；接口测试验证增量/反向迁移任务状态接口、启动增量/反向迁移任务接口、数据校验汇总信息查询接口、全量校验实时进度查询接口、全量校验修复文件下载接口验证。累计执行25个测试用例，发现3个问题，整体开发质量良好。 | 1.断点续传需保证portal进程正常                               | <font color=green>▮</font> | 无       |
| 反向增量迁移支持并行逻辑解码                                 | 本特性主要从功能、性能方面进行测试，包括datakit迁移套件页面新增参数、数据类型功能验证，原有断点续传、指定表迁移功能验证，性能测试验证sink端速率达到3w tps。累计执行25个测试用例，发现1个问题，整体开发质量良好。 | 1.支持迁移的数据类型为DML语句                                | <font color=green>▮</font> | 无       |
| O兼容性-支持GMS_XMLGEN高级包                                 | 主要覆盖了功能测试、升级测试、兼容性测试、资料测试。功能测试覆盖了插件的创建、删除，插件包的16个接口函数功能，以及接口函数在不同场景下的验证；升级测试在6.0.0版本升级到7.0.0-RC1.B004版本后执行用例验证此功能的正确性；资料测试验证描述、约束、示例是否完善、有效。共计执行了125个用例，测试中发现4个问题，问题均以修复且回归通过，无遗留问题，整体开发质量良好。 | 1.仅支持在A模式数据库创建<br/>2.仅支持`create extension`命令方式加载插件<br/>3. gms_xmlgen插件依赖libxml，而轻量版openGuass不支持libxml，故轻量版openGauss不支持该插件<br/>4.gms_xmlgen插件依赖xmltype类型，该类型于7.0.0-RC1版本引入，对数据库进行升级或回滚操作时，须先删除该插件，否则回滚升级脚本中存在依赖，升级将失败报错<br/>5.涉及xmltype的接口需要设置GUC参数behavior_compat_options值为bind_procedure_searchpath。 | <font color=green>▮</font> | 无       |
| 用于词法语法分析的openGauss sql审计工具                      | 主要覆盖了功能测试、兼容性测试、资料测试。功能测试覆盖了3个子特性的基本功能，第一，DDL和DML语句审计组合测试。第二，数据类型和函数表达式语句审计测试。第三，针对创建索引和主键联合语句审计测试，执行结果符合预期。共计执行了55个用例，测试中发现1个问题，问题待修复，整体开发质量良好 | 1.仅支持单行SQL文本输入，且SQL之间以`;`分割<br/>2.支持B库兼容性语法检查场景，默认为B库兼容性，其他兼容性的语法不兼容语句的报错信息可能不准确<br/>3.不支持存储过程的语法兼容校验<br/>4.对于SQL语句审计结果的支持判断：<br/>语法兼容：openGauss支持该语法，但是实际使用过程中可能包含字段类型不支持、函数不存在等问题<br/>语法不兼容：openGauss不支持该语法 | <font color=green>▮</font> | 无       |
| O兼容性-被依赖的对象允许DDL修改的行为与A库一致               | 覆盖了功能测试、特性耦合测试、升级测试、兼容性测试。功能测试覆盖了4个子特性的基本功能，第一，修改视图依赖的基表列类型，视图置为无效状态。第二，删除视图依赖的基表后，视图置为无效状态，重建基表后，视图状态恢复为有效。第三，删除视图引用的函数/存储过程/包，视图置为无效状态。第四，删除视图引用的视图，被引用的视图删除后，视图变更为无效状态。升级测试在6.0.0版本升级到7.0.0-RC1版本后执行用例验证此功能的正确性。兼容性测试，在不同的数据库兼容类型下，测试4个特性功能，执行结果符合预期（不区分兼容性）。共计执行了100个用例，测试中发现3个问题，问题已修复且验收通过。 | 1.删除视图依赖的对象需要restrict，cascade仍然会删除依赖的视图<br/>2.该特性不区分数据库兼容性，建议在A库下正确使用此功能<br/>3.存在增量物化视图依赖的表/函数/存储过程等，默认`restrict`下无法直接删除依赖对象，只存在全量物化视图时，删除对象成功。 | <font color=green>▮</font> | 无       |
| O兼容性-支持GMS_RAW、GMS_MATCH高级包                         | 主要覆盖了功能测试、升级测试、兼容性测试、资料测试。功能测试覆盖了插件的创建、删除，插件包的25个接口函数功能，以及接口函数在不同场景下的验证；升级测试在6.0.0版本升级到7.0.0-RC1.B008版本后执行用例验证此功能的正确性；资料测试验证描述、约束、示例是否完善、有效。共计执行了205个用例，发现问题1个，无遗留问题，整体开发质量良好。 | 1.仅支持在A模式数据库创建<br/>2.仅支持`create extension`命令方式加载插件。 | <font color=green>▮</font> | 无       |
| MOT功能支持通过参数控制是否启用                              | 测试MOT功能支持通过参数控制是否启用，及通过编译宏控制是否使用原来的rdtscp指令集，输出测试用例44个，执行测试共2轮，发现issue共2个，均已修复并回归通过，无遗留问题，整体开发质量良 | 若已有mot表，设置enable_mot_server=off，数据库启动失败       | <font color=green>▮</font> | 无       |
| O兼容性-支持GMS_COMPRESS高级包                               | 覆盖功能测试和资料测试，输出测试用例57个，执行测试共2轮，发现issue共3个，均已修复并回归通过，无遗留问题，整体开发质量良好。 | 1.该功能在openGauss的A兼容模式下使用<br/>2.仅支持create extension命令方式加载插件<br/>3.仅支持最大使用5个压缩句柄<br/>4.仅支持压缩row和blob类型<br/>5.每个句柄存储的数据不能超过1GB。 | <font color=green>▮</font> | 无       |
| O兼容性-支持CROSS/OUTER APPLY JOIN语法                       | 主要测试cross apply、outer apply及lateral表达式，包含功能测试和资料测试，输出测试用例43个，执行测试共2轮，发现issue共1个，均已修复并回归通过，无遗留问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| O兼容性-支持anytype/anydata/anydataset                       | 主要覆盖了功能测试、升级测试、兼容性测试、驱动测试、资料测试。功能测试覆盖了ANYDATA的convert、access24个接口和gettype、gettypename接口，ANYDATASET的get、set24个接口和begincreate、endcreate、addinstance、getcount、gettype、gettypename接口，ANYTYPE的begincreate、endcreate、setinfo、addattr、getattreleminfo、getanytypefrompersistent接口的函数功能，以及接口函数在不同场景下的验证；升级测试在6.0.0版本升级到7.0.0-RC1版本后执行用例验证此功能的正确性；兼容性测试覆盖在不同兼容模式验证插件功能；驱动测试覆盖使用JDBC驱动，测试插件功能是否正常；共计执行了50个用例，测试中发现2个问题，问题均以修复且回归通过，无遗留问题，整体开发质量良好。 | 1.ANYTYPE类型可处理的普通数据类型范围限定在double、blob、char、date、nachar、number、nvarchar2、raw、timestamp、timestamptz、varchar、varchar2共12种类型内<br/>2.依赖object类型特性，需在object特性后才能使用本特性 | <font color=green>▮</font> | 无       |
| O兼容性-支持GMS_STATS高级包                                  | 覆盖了功能测试、升级测试、兼容性测试、驱动测试、资料测试。功能测试覆盖了插件的创建、删除，插件包的31个接口函数功能，以及接口函数在不同场景下的验证；升级测试在6.0.0版本升级到7.0.0-RC1版本后执行用例验证此功能的正确性；兼容性测试覆盖在不同兼容模式验证插件功能；驱动测试覆盖使用jdbc驱动，测试插件功能是否正常；资料测试验证描述、约束、示例是否完善、有效。共计执行了65个用，测试中发现3个问题，问题均以修复且回归通过，无遗留问题，整体开发质量良好。 | 1.仅支持`CREATE EXTENSION`命令方式加载，使用`DROP EXTENSION`命令方式卸载<br/>2.仅支持在A库环境下使用，非A库环境不建议使用该插件<br/>3.部分函数表现和A库不完全兼容 | <font color=green>▮</font> | 无       |
| 基础类型输出转换                                             | 覆盖了功能测试、升级测试、性能测试、资料测试。功能测试覆盖了基础类型，整型int1、int2、int、bigint，浮点型float4、float8和日期类型date、datetime，对于涉及的基础类型转换为字符串输出的场景进行测试，结合to_char、quote_literal、qutoe_nullable、concat、concat_ws、format字符操作函数及操作符结合场景，升级测试在6.0.0版本升级到7.0.0-RC1版本后执行用例验证此功能的正确性；资料测试，主要对guc参数extra_float_digits大于0时的性能说明进行测试。执行15个用例，未发现有效问题，整体开发质量良好。 | 对于浮点类型，当extra_float_digits大于0时，浮点数转换字符类型输出时使用该特性的表现 | <font color=green>▮</font> | 无       |
| 支持并发导入interval分区                                     | 覆盖功能测试、可靠性测试和升级验证场景。功能测试基于需求实际实现，覆盖参数max_concurrent_autonomous_transactions为0、10、1024的正常和异常场景，考虑interva分区只能以data、timestamp、timestampz类型作为分区键，分区键只支持1个，同时考虑interval分区的五种不同创建方式，通过copy、长会话方式验证并行导入数据，交叉验证，执行结果基本符合预期；可靠性测试主要关注长会话事务回滚分区正常和正常测试中出现异常情况下数据库的功能正常；升级验证场景主要考虑升级前后功能正常与否。用例执行中交叉在A库和B库中执行。共计执行了25条用例，测试中发现2个问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| O兼容性-支持GMS_UTILITY高级包                                | 覆盖了功能测试、升级测试、兼容性测试、驱动测试、资料测试。功能测试覆盖了插件的创建、删除，插件包的23个接口函数功能，以及接口函数在不同场景下的验证；升级测试在6.0.0版本升级到7.0.0-RC1版本后执行用例验证此功能的正确性；兼容性测试覆盖在不同兼容模式验证插件功能；驱动测试覆盖使用python驱动，测试插件功能是否正常；资料测试验证描述、约束、示例是否完善、有效。共计执行了308个用例，测试中发现26个问题，问题均以修复且回归通过，无遗留问题，整体开发质量良好。 | 1.仅支持`CREATE EXTENSION`命令方式加载，使用`DROP EXTENSION`命令方式卸载<br/>2.仅支持在A库环境下使用，非A库环境不建议使用该插件<br/>3.部分函数表现和A库不完全兼容 | <font color=green>▮</font> | 无       |
| SQL Server兼容性基础能力                                     | 累计执行了46个用例，主要覆盖了功能测试、可靠性测试、兼容性测试、特性耦合测试、升级测试。功能测试覆盖创建及删除D库的功能正常，创建及删除shark插件的基本功能，支持创建但不支持删除插件。使用shark插件测试词法解析、创建索引支持columnstore参数、创建自定义函数支持language为`pltsql`等特性的基本功能，执行结果均符合预期。可靠性测试通过多用户、多并发等连接D库，测试插件功能。兼容性测试，在不同的数据库兼容类型下测试插件语法功能。升级测试覆盖升级未提交及提交后创建D库和使用插件功能，测试通过。测试中发现2个问题，问题已修复，整体开发质量良好。 | 1.仅允许在D兼容性下创建插件<br/>2.shark插件支持创建、不支持删除<br/>3.若`shared_preload_libraries`参数无shark参数，重启数据库后，则连接D库失败。将shark加入参数`shared_preload_libraries`，重启数据库后，连接D库成功，使用shark插件语法功能正<br/>4.升级未提交不允许创建D库<br/>5.shark中所有新增/修改的语法不支持在`gsql`客户端通过`\h`查看帮助说明，不支持在`gsql`客户端自动补齐 | <font color=green>▮</font> | 无       |
| SQL Server常用语法兼容-PART1                                 | 主要覆盖了功能测试、升级测试、兼容性测试、驱动测试、资料测试。功能测试覆盖了插件的创建、删除，插件包的31个接口函数功能，以及接口函数在不同场景下的验证；升级测试在6.0.0版本升级到7.0.0-RC1版本后执行用例验证此功能的正确性；兼容性测试覆盖在不同兼容模式验证插件功能；驱动测试覆盖使用jdbc驱动，测试插件功能是否正常；资料测试截至该文档编写时未合入。共计执行了69个用例，测试中发现1个问题，问题均以修复且回归通过，无遗留问题，整体开发质量良好 | 1.支持创建nonclustered/clustered索引仅语法支持，功能未支持<br/>2.支持使用中括号[]包裹标识符。该功能需打开参数，在该参数打开情况下，数组功能和存储过程及其他相关功能不能正常使用<br/>3.支持忽略大小写的排序规则需要在相应字符集的数据库下创建，暂不支持创建schema、表、列指定多字符集多字符序 | <font color=green>▮</font> | 无       |
| NDP组件支持HCOM，构建护城河                                  | 测试网络库替换为hcom4db后基于NdpPlugin插件的方式提供数据库内核算子卸载功能。本测试包括功能测试和性能测试，累计执行150个用例，测试执行共1轮，未发现issue，无遗留问题，整体开发质量良好。 | 1.通过NdpPlugin插件的方式提供数据库内核算子卸载功能<br/>2.计算侧依赖ceph集群环境&LibSmartScan服务实现算子下推<br/>3.决定适合算子卸载的场景只有收益/可以卸载的场景才进行卸载，不能算子卸载的场景按照内核原有流程执行 | <font color=green>▮</font> | 无       |
| 传统主备支持行列转换，备机支持列存查询                       | 测试传统集群、单机行列融合功能，主要包含功能场景测试、可靠性场景测试、兼容性场景测试、性能场景测试，输出测试用例402个，执行测试1轮，发现issue共22个，所有问题已修复并回归通过，整体开发质量良好。 | 1.表约束：仅支持普通表的行列转换，临时表、系统表、Toast表、Unlogged表、列存表、外表暂不支持，主备场景下不支持段页式表的行列转换<br/>2.数据类型约束：参考列存表支持的数据类型 | <font color=green>▮</font> | 无       |
| openGauss DataVec向量数据库能力增强，支持原生向量存储，支持IVF-FLAT/IVF-PQ/HNSW等向量索引类型，相比PGVector性能提升30%，相比EMR性能提升30% | 测试向量数据类型、向量函数、向量距离操作符、向量IVFFLAT及HNSW的两种索引、向量检索等功能，覆盖所有索引选项参数及查询检索参数，覆盖功能、可靠性、升级、资料测试，累计执行测试用例300个，发现问题25个，整体开发质量一般。 | 1.vector和sparsevec数据类型暂不支持列存表存储<br/>2.vector，bit和sparsevec暂不支持外表存储<br/>3.支持普通行存表，临时表，Toast表，Unlogged，段页式表等的向量数据存储 | <font color=green>▮</font> | 无       |
| SMP增强                                                      | 测试批量执行部分IUD用例性能提升50%，该技术点主要通过将stream节点上移至modifytable算子上，可以提高并行计算量，减少stream通信消耗。测试包括功能测试、稳定性测试、可靠性测试、性能测试、兼容性测试和资料测试，测试执行共2轮，累计执行23个测试用例，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 快速自动化参数执行计划缓存                                   | 测试覆盖功能测试、性能测试、资料测试等。累计执行53个用例，发现问题2个，均已解决，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 支持节点间页面/快照/传输加速使用UB-C通信                     | 覆盖TCP通信和RDMA通信的主备机性能对比以及时延的对比。执行测试用例1个，整体开发质量良好。 | 1.资源池化环境集群正常运行 <br/>2.RDMA通信需要有RDMA网卡     | <font color=green>▮</font> | 无       |
| SQL算子溢盘流程内存借用加速                                  | 测试算子内存借用，支持sort、Agge、Hash join、vector sonic hash join、vector sonic hash aggregate、vector hash join、vector hash aggregate等算子使用时借用周边节点内存，包含功能测试、可靠性测试及性能测试，输出测试用例48个，执行测试共1轮，发现issue共1个，已修复并回归通过，无遗留问题，整体开发质量良好。 | 1.借用内存上限受到内存借用模块限制                           | <font color=green>▮</font> | 无       |
| HTAP行列融合支持内存借用                                     | 测试在单机和传统主备场景下，基于灵衢RackServer的远端内存借用特性，其在HTAP行列融合列缓存节点实现了列存数据的“本地内存-远端内存-本地磁盘”的三级缓存，主要包含功能测试、可靠性测试及性能测试，输出测试用例66个，执行测试共2轮，发现issue共1个，均已修复并回归通过，无遗留问题，整体开发质量良好。 | 分区表主分区不承载实际数据，主备场景主节点不存储列存数据，不需要使用远端内存借用功能。 | <font color=green>▮</font> | 无       |
| IVF-PQ索引算法支持，融合PQ距离计算加速算法                   | 主要测试DataVec向量数据库PQ索引创建、修改、重建及检索模块，覆盖所有索引构建选项参数及查询检索参数，主要包含功能场景测试，输出测试用例154个，执行测试3轮，发现issue共8个，3个问题待解决；需求覆盖100%，整体开发质量一般。 | 1.PQ特性暂时只支持ARM架构环境<br/>2.PQ特性暂时只支持HNSW和IVF索引<br/>3.PQ特性暂时只支持vector数据类型，在其他向量数据类型构建HNSWPQ以及IVFPQ索引会导致执行失败<br/>4.在创建PQ索引前需要先插入数据，无数据情况下会创建失败 | <font color=green>▮</font> | 无       |
| 行存引擎支持通用页压缩                                       | 测试项包含功能测试、tpcc性能测试、7*24小时稳定性测试、可靠性测试、资料测试等。发现问题1个，整体开发质量良好。 | 1.进行tpcc性能测试，经验证满足2p单机环境可以达到150w tpmc<br/>2.7*24小时稳定性测试，运行无异常 | <font color=green>▮</font> | 无       |
| 段页式表空间支持通用页压缩                                   | 测试部署环境为主备传统集群，对段页式表的压缩特性进行测试，主要包含功能测试、可靠性测试、性能测试和资料测试，累计执行测试用例80个，发现问题3个，整体开发质量良好。 | 1.保持原段页式表的约束                                       | <font color=green>▮</font> | 无       |
| 【国创】Web DS支持保存和引用代码片段/Web DS数据库对象授权、撤销能力/Web DS数据库对象授权/撤销能力 | 测试覆盖功能测试、接口测试、完成了硬件/升级兼容性测试，累计执行246个用例，发现13个问题均已修复，无遗留问题，整体开发质量良好。 | 1.安装openGauss3.1.0及以上<br/>2.安装 pldebugger 插件3.0及以上<br/>3.仅支持plpgsql语言的调试<br/>4.函数调试覆盖率功能需在openGauss5.1.0 b011及之后的版本下使用，产生记录需要设置数据库enable_proc_coverage参数为on<br/>5.本项目依赖主平台的web-socket，若需要使用本项目所有功能，只能通过编译成 jar 包的形式作为插件运行在主平台上，若需单独运行将影响 SQL 终端语句执行、调试函数/过程等功能的使用<br/>6.部署安装时需设置心跳时间小于平台token过期时间， 调整心跳方法：在`plugins/data-studio/web-ui/src/config/index.ts`修改配置心跳时间（单位：毫秒）<br/>7.外表管理功能需要当前操作数据库为企业版，外部服务器创建需要当前操作用户具有管理权限 | <font color=green>▮</font> | 无       |
| 【海量】CREATE/DROP PUBLIC SYNONYM                           | 测试支持CREATE/DROP PUBLIC SYNONYM 语法创建公共同义词的功能，输出测试用例13个，发现issue共6个，主要涉及公共同义词的权限访问、授予、继承和升级测试等方面，目前均为待处理状态，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【海量】FETCH语法增强                                        | 测试支持fetch语法增强的功能，输出测试用例7个，执行测试共2轮，发现issue共2个，主要涉及列存支持、兼容模式支持方面，均为待处理状态，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【海量】物化视图功能增强，补齐功能，包括支持删除操作         | A兼容模式下，支持语法CREATE/DROP MATERIALIZED VIEW LOG ON table_name。共计执行25个用例，主要覆盖基础语法支持CREATE/DROP MATERIALIZED VIEW LOG ON table_name，可手动创建删除物化视图日志，测试在基表有约束、有不同数据特征、不同基表类型下该语法正常使用。测试增量物化视图结合创建物化视图日志的各类基础操作下正常查询且刷新有效。结合常用测试场景，通过手工执行用例，发现问题1个，目前待处理状态，整体开发质量良好。 | 该功能在openGauss的A兼容模式下使用                           | <font color=green>▮</font> | 无       |
| 【海量】支持CREATE TYPE 加AS OBJECT                          | A兼容模式下，支持兼容object type抽象类型，共计执行52个用例，主要覆盖基础语法兼容object type抽象类型，测试在type内属性为字符、数值、时间、二进制、自定义类型下可正常使用。测试子类型和抽象类型对象方法模块各功能点行为正常。结合常用测试场景，通过手工执行用例，发现问题6个，缺陷涉及帮助语法缺失、抽象类型对象方法模块、使用抽象数据类型模块；目前待处理状态，整体开发质量良好。 | 该功能在openGauss的A兼容模式下使用                           | <font color=green>▮</font> | 无       |
| 【海量】支持SUBTYPE                                          | 兼容模式下，支持自定义语法SUBTYPE，共计执行100个用例，主要覆盖基础语法支持自定义SUBTYPE，测试在作为变量/常量、子类型和其他类型的相互使用、子类型和其他子类型间的相互使用、子类型的继承等场景的类型转换。测试子类型的使用范围，在包、子程序等场景功能可正常使用。结合常用测试场景，通过手工执行用例，发现问题5个，目前待处理状态，整体开发质量良好。 | 1.该功能在openGauss的A兼容模式下使用<br/>2.opengauss暂不支持pls_integer | <font color=green>▮</font> | 无       |
| 【海量】支持GMS_LOB包                                        | 主要测试GMS_LOB包的write/append/read/getlength/isopen函数，包含功能测试、资料测试和升级测试，输出测试用例11个，执行测试共1轮，发现1个问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【海量】支持xmltype类型                                      | 主要测试支持xmltype类型的功能，输出测试用例10个，执行测试共2轮，发现issue共2个，整体开发质量良好。 | 该功能在openGauss的A兼容模式下使用                           | <font color=green>▮</font> | 无       |
| 【海量】存储过程支持EXCEPTION FOR自定义异常                  | 兼容A的支持EXCEPTION自定义异常和RAISE_APPLICATION_ERROR特性，共计执行18条用例，主要覆盖功能测试、兼容性测试、升级测试、资料测试。功能测试覆盖了PL/pgSQL的异常相关语法，RAISE_APPLICATION_ERROR参数的正常值、边界值、特殊值、异常值测试，嵌套块的异常处理，以及自定义异常在不同场景下的测试；兼容性测试覆盖了支持兼容性A，其他兼容性B、C、P测试；升级测试在6.0.0版本升级到7.0.0-RC1 build 7ba866bd 版本后执行用例验证此功能的正确性，再对数据库回滚测试；资料测试验证描述、约束、示例是否完善、有效。测试中发现3个问题，整体开发质量良好. | 仅在A模式数据库支持完整功能                                  | <font color=green>▮</font> | 无       |
| 【海量】支持在函数或者过程中创建过程                         | 兼容A的支持在函数或者过程中创建过程特性，共计执行32条用例，主要覆盖功能测试、兼容性测试、升级测试、资料测试。功能测试覆盖了匿名块、函数、存储过程中创建子程序的场景，结合触发器、游标、package等在不同场景下的测试；兼容性测试覆盖了支持兼容性A，其他兼容性B、C、P的测试；升级测试在6.0.0版本升级到7.0.0-RC1 build 7ba866bd 版本后执行用例验证此功能的正确性，再对数据库回滚测试；资料测试验证描述、约束、示例是否完善、有效。测试中发现6个问题，整体开发质量良好. | 仅在A模式数据库支持完整功能                                  | <font color=green>▮</font> | 无       |
| 【海量】【vacuum】通用性能优化                               | vacuum优化的性能测试，对比tidstore和array在内存占用和耗时,以及bypass index的实现场景测试，累计执行15个用例，整体开发质量良好。 | 1. vacuum命令未指定 FREEZE 选项<br/>2.有索引，表⾮空<br/>3.⾮ustore、bucket表<br/>4.触发过maintenance_work_mem的限制<br/>5. 含死元组⻚数⽐例⼩于2%<br/>6.死元组内存消耗⼩于32MB。 | <font color=green>▮</font> | 无       |
| 【南大】支持AGG函数 keep(DENSE_RANK FIRST ORDER BY AGG())语法； 支持AGG函数 keep(DENSE_RANK LAST ORDER BY AGG())语法 | A模式下中支持AGG函数 keep语法，共计执行39个用例，主要覆盖了功能测试、兼容性测试和资料测试，累计执行39个用例，发现1个问题，无遗留风险，整体开发质量良好。 | 1.`KEEP`函数只能与特定的聚合函数一起使用，如`MIN`、`MAX`、`SUM`、`AVG`等<br/>2.`KEEP`函数的`ORDER BY`子句必须与`DENSE_RANK FIRST`或`DENSE_RANK LAST`一起使用<br/>3.仅支持A模式库 | <font color=green>▮</font> | 无       |
| 【南大】支持GMS_SQL包                                        | 覆盖了功能测试、语法测试、可靠性测试、兼容性测试和资料测试，共计执行51个用例发现2个问题，无遗留风险，整体开发质量良好。 | 1.使用create extension gms_sql方式加载                       | <font color=green>▮</font> | 无       |
| 【南大】支持GMS_TCP包                                        | 覆盖了功能测试、语法测试、可靠性测试、兼容性测试和资料测试，共计执行53个用例，发现1个问题，无遗留风险，整体开发质量良好； | 使用create extension gms_tcp方式加载                         | <font color=green>▮</font> | 无       |
| 【南大通用】支持VACHAR/NVARCHAR/CHAR数据类型按字符存储，计算为字符长度，语法类似VARCHAR(size [Byte \| Char])，同时支持限定总大小 | 覆盖了功能测试、语法测试、可靠性测试、兼容性测试，共计执行79个用例，发现0个问题，无遗留风险，整体开发质量良好 | 无                                                           | <font color=green>▮</font> | 无       |
| 【软通】支持TO_TIMESTAMP、CAST、TO_NUMBER                    | 测试兼容A库的cast()函数，覆盖功能测试，升级回滚测试，性能测试，资料测试，共执行674个用例，发现2个问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【软通】系统函数兼容（支持nls_lower函数、支持的入参数据类型对标oracle） | 测试兼容A库的nls_lower函数，覆盖功能测试，升级回滚测试，性能测试，资料测试，共执行571个用例，共发现1个问题，开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【神通】支持JSON_EXISTS表达式、支持JSON_TEXTCONTAINS表达式   | 测试覆盖功能、可靠性、可服务性、资料、特性耦合分析测试，累计执行36个用例，发现问题6个，整体开发质量良好。 | 1.JSON_EXISTS的语法中，FORMAT JSON、PASSING子句和JSON_exists_on_empty_clause子句暂未支持<br/>2.当前JsonPath语法中仅支持了通过键名取值和通过数组下标取值的语法 | <font color=green>▮</font> | 无       |
| 【神通】多表视图更新/删除                                    | 覆盖功能测试、性能测试、可服务性测试、资料测试、兼容性测试、特性耦合分析测试。需求100%实现，累计执行39个测试用例，发现问题2个均已修复，整体测试质量良好。 | 1.作为更新目标的视图的基本表只能是普通表、视图或子查询。视图的基本表之间需由join或简单的比较条件连接，且至少有一个基本表是可更新的<br/>2.如果一个视图列是可更新的，那么它不能是虚拟列，即不能是其他列由表达式计算得到的结果，也不能是被排序之后结果<br/>3.第一条中对多表视图更新的限制同样适用于删除的情形，在此基础上，作为视图基本表的子查询/子视图若有任意一个是不满足第一条中列出的更新限制的，那么不能对该视图进行删除操作<br/>4.对视图更新时，用户至少需要具有视图的update和select权限；对视图删除时，至少需要具有视图的delete权限。但不需要具有对基本表操作的权限 | <font color=green>▮</font> | 无       |
| 【神通】完善PL中的type、record【先定位问题】                 | 测试覆盖功能、可服务性、资料、特性耦合分析测试。累计执行54个测试用例，发现问题2个，整体开发质量良好。 | 暂不支持数组与record混合嵌套的方式                           | <font color=green>▮</font> | 无       |
| 【神通】高级包DBMS_ASSERT                                    | 覆盖功能测试、可服务性测试、资料测试、特性耦合分析测试。需求100%实现，累计执行14个测试用例，发现问题5个均已修复，整体测试质量良好。 | 仅支持create extension命令方式加载插件                       | <font color=green>▮</font> | 无       |
| 【中移】支持NLS_INITCAP、TO_CHAR、NEW_TIME、BIN_TO_NUM、EXTRACT函数 | 测试支持NLS_INITCAP函数，覆盖功能、特性交互等方面测试，主要通过等价类和场景法的测试设计方法对这些特性验证功能与需求相符,已覆盖nls_initcap函数的功能实现、与其他特性交互场景及测试、异常场景合理报错，执行测试用例23个，执行测试共1轮，发现issue共7个，无遗留问题，整体开发质量良好。 | 本次实现中，NLS_INITCAP函数的第二个入参不会生效              | <font color=green>▮</font> | 无       |
| 【中移】NTH函数增强                                          | 测试NTH_VALUE函数支持FROM FIRST/LAST子句，包含功能测试、资料测试以及升级测试，输出测试用例23个，执行测试共1轮，发现问题2个，整体开发质量良好 | 无                                                           | <font color=green>▮</font> | 无       |
| 【中移】UTL_INADDR.GET_HOST_ADDRESS UTL_INADDR.GET_HOST_NAME UTL_I18N.RAW_TO_CHAR UTL_I18N.STRING_TO_RAW | 兼容A的gms_i18n高级包特性，共计执行25条用例，主要覆盖功能测试、兼容性测试、性能测试、升级测试、资料测试。功能测试覆盖了插件的创建、删除，插件包的2个接口函数功能，以及接口函数在不同场景下的验证；兼容性测试覆盖了支持兼容性A，其他兼容性B、C、P测试；性能测试覆盖了多次调用包函数的测试；升级测试在6.0.0版本升级到7.0.0-RC1 build f8ba23e6 版本后执行用例验证此功能的正确性，再对数据库回滚测试；资料测试验证描述、约束、示例是否完善、有效。测试中发现4个问题，整体开发质量良好。 | 1.仅支持在A模式数据库创建且支持完整功能<br/>2.其他兼容可以创建插件，功能与A兼容会存在差异<br/>3.仅支持`create extension`命令方式加载插件 | <font color=green>▮</font> | 无       |
| 【中移】支持CORR_S/CORR_K函数                                | 测试CORR_S/CORR_K函数，覆盖了功能测试、升级测试、兼容性测试、资料测试，输出测试用例20个，发现issue共7个，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【中移】ALTER INDEX支持ENABLE/DISABLE                        | 覆盖功能测试、升级测试、兼容性测试、资料测试；执行测试用例20个，发现issue共7个，整体开发质量良好。 |                                                              | <font color=green>▮</font> | 无       |
| 【中移】支持CORR_S/CORR_K函数                                | 测试CORR_S/CORR_K函数，覆盖功能测试、升级测试、兼容性测试、资料测试；执行测试用例20个，发现问题共7个，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【中移】ALTER INDEX支持ENABLE/DISABLE                        | 测试alter index enable/disable语法，执行用例18个，执行共2轮，发现issue共1个，均已修复并回归通过，无遗留问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【中移】smp支持串行                                          | 共计执行19个用例，主要覆盖了smp开启功能测试、性能测试，发现issue 0个，整体质量良好； | 1.仅在smp开启的状态下触发                                    | <font color=green>▮</font> | 无       |
| 【邮储】金融版本：内核支持访问控制                           | 测试不同的用户在远程操作执行DDL是否符合预期，禁止非 对象的owner 远程 DDL操作, 覆盖功能、可靠性、易用性、资料测试，特性累计执行20 个测试用例，无遗留问题，整体开发质量良好。 | 无                                                           | <font color=green>▮</font> | 无       |
| 【邮储】通过OM工具进行升级时，应控制支持的版本升级路径，对于不支持的版本升级路径应报错 | 测试升级操作安全性提升，从历史版本升级到7.0.0RC1版本，重点覆盖升级基本功能测试、升级前后数据库可用性、前后数据一致性校验，累计执行测试用例11 个，发现2 个问题, 1 个已验收，整体开发质量良好。 | 在维护周期内的历史版本。                                     | <font color=green>▮</font> | 无       |

<font color=red>●</font>： 表示特性不稳定，风险高

<font color=yellow>▲</font>： 表示特性基本可用，遗留少量问题

<font color=green>▮</font>： 表示特性质量良好

## 4.2 专项测试结论

### 4.21 安全测试

openGauss 7.0.0 RC1版本安全测试覆盖：

1、通过工具进行端口扫描/主机漏洞扫描/开源软件漏洞扫描/安全编译/安全配置/密码和信息泄漏/网络安全红线/安全资料/病毒扫描/敏感信息扫描。

2、数据库安全用例CI连跑；针对地址消毒，结合相关测试工具，对memcheck版本执行全量测试用例。

3、从数据库权限管理、数据库连接配置、数据库文件目录安全、数据库安全认证配置、数据库账号口令管理、数据库审计、数据库日志配置、数据库运行环境配置和数据库其他配置进行安全测试。

openGauss 7.0.0 RC1版本所有适用的安全扫描和安全测试均已执行，整体质量良好，风险可控。

### 4.22 可靠性\稳定性测试

openGauss 7.0.0 RC1版本可靠性\稳定性测试覆盖：硬件故障/操作系统故障/数据库系统故障/人为因素故障/RTO/工具等6个故障注入类测试及5个长时间负载测试。

1、故障注入类测试：共计测试14个版本，在x86+Centos，x86openEuler，Kylin环境下共计执行707个用例，测试用例累计执行率100%，测试发现6个问题，已全部优化闭环，整体质量良好。

| Domain         | 测试内容                                                     | 测试结论 |
| -------------- | ------------------------------------------------------------ | -------- |
| 硬件故障       | 注入CPU、内存、网络故障时无可靠性问题。磁盘满异常时，有有效提示，并且消除故障后数据库可恢复正常。 | 测试通过 |
| 操作系统故障   | 修改系统时间（夏令时，闰年）无可靠性问题。端口、文件句柄、信号量故障时，有有效提示，且故障消除后数据库可恢复正常。 | 测试通过 |
| 数据库系统故障 | 双机故障、事务管理、数据库进程故障消除后，数据库可恢复正常，且有有效日志记录。大量执行SQL、TPCC高并发、数据库参数调整后对数据库无影响。 | 测试通过 |
| 人为因素故障   | 人为破坏系统表、业务执行过程中启停数据库，会有对应日志记录，并且消除故障后数据库可恢复正常。 | 测试通过 |
| RTO            | 注入磁盘满故障、数据库进程异常时，有有效提示，且消除故障后RTO模式下数据库运行正常。主备频繁切换，无可靠性问题。 | 测试通过 |
| 工具           | 对于时间跳转、频繁使用、主备切换后工具可正常使用，无可靠性问题。 | 测试通过 |

2、长时间负载测试：共计测试9个版本，共执行5个用例，测试用例累计执行率100%，共发现3个有效问题，已解决并回归验证通过，整体质量良好。

| Domain | 测试内容                                                     | 测试结论                                                     |
| ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 场景1  | astore场景，TPCC+sysbench连跑insert/update/delete事务，200仓+100并发，7*24H测试，包括虚拟机、物理机测试 | 业务正常运行，主备机无core，系统可以长时间正常处理tpcc业务、DML增删改查并发事务、DDL事务；cpu、内存、io等系统资源使用均正常；一致性检查通过，平稳运行7*24H |
| 场景2  | ustore场景，TPCC+sysbench连跑insert/update/delete事务，200仓+100并发，7*24H测试，包括虚拟机、物理机测试 | 业务正常运行，主备机无core，系统可以长时间正常处理tpcc业务、DML增删改查并发事务、DDL事务；cpu、内存、io等系统资源使用均正常；一致性检查通过，平稳运行7*24H |
| 场景3  | ustore场景，极致RTO、普通回放和并行回放测试，7*24H测试       | 业务正常运行，主备机无core                                   |
| 场景4  | 资源池化，一主一备主机读写备机只读场景，TPCC连跑insert/update/delete事务，主机800仓+500并发，备机800仓+200并发，7*24H测试 | 业务正常运行，主备机无core                                   |
| 场景5  | 资源池化，7*24H内，每12H一次全量备份，每6H一次增量备份；开启xlog归档长稳运行 | 备份功能正常；xlog归档运行正常                               |

### 4.23 性能测试

对关键性能指标进行摸底和测试，主要覆盖了astore、ustore和资源池化场景下，2P单机/主备、4P单机的TPC-C测试及RTO测试，性能多轮测试稳定。

| **指标大项**      | **指标小项**                                   | **指标值**              | **说明**          | 测试结论                                                     |
| ----------------- | ---------------------------------------------- | ----------------------- | ----------------- | ------------------------------------------------------------ |
| TPCC              | 2P（Taishan 200 2280 7260）单节点 1H           | 150万                   | 此即为release基线 | 单节点1H在极限场景配置下tpmC为***150.9***W+                  |
|                   | 2P（Taishan 200 2280 7260）单节点 6H           | 145万                   | 此即为release基线 | 单节点8H在极限场景配置下tpmC为***149***W+                    |
|                   | 2P（Taishan 200 2280 7260）一主一备 1H         | 130万                   | 此即为release基线 | 一主一备1H在极限场景配置下tpmC为***135.1***W+                |
|                   | 4P（Taishan 200 2480 7260）单节点 1H           | 230万                   | 此即为release基线 | 单节点在极限场景配置下tpmC为***238.2***W+                    |
|                   | B库 2P（Taishan 200 2280 7260）单节点 1H       | 非分区表90万，分区表80w | 此即为release基线 | 单节点1H在极限场景配置下，非分区表tpmC为***91.8***W+，分区表tpmC为***88.3***W+ |
|                   | B库 2P（Taishan 200 2280 7260）一主一备 1H     | 80万                    | 此即为release基线 | 一主一备1H在极限场景配置，非分区表tpmC为***83.7***W+，分区表tpmC为***83.8***W+ |
|                   | B库 4P（Taishan 200 2480 7260）单节点 1H       | 80万                    | 此即为release基线 | 单节点在极限场景配置下tpmC为***83.7***W+                     |
| ustore TPCC       | 2P（Taishan 200 2280 7260）单节点 1H           |                         | 此即为release基线 | 单节点1H在极限场景配置下tpmC为***152.6***W+                  |
|                   | 2P（Taishan 200 2280 7260）一主一备 1H         |                         | 此即为release基线 | 一主一备1H在极限场景配置下tpmC为***125.6***W+                |
|                   | 4P（Taishan 200 2480 7260）单节点 1H           |                         | 此即为release基线 | 单节点在极限场景配置下tpmC为***236.7***W+                    |
| RTO高可用         | 一主一备failover                               | 小于10s                 | 此即为release基线 | **6**s                                                       |
| 资源池化sysbench  | 2P（Taishan 200 2280 7260）主机读写备机空载    | 3.5万                   |                   | 主机读写备机空载场景下，主机使用oltp_read_write，性能为***4.2w tps***。 |
|                   | 2P（Taishan 200 2280 7260）主机读写备机只读    | 6万                     |                   | 主机读写备机只读场景下，主机使用oltp_read_write，备机使用oltp_read_only，总计***7.3w tps***。 |
| 资源池化TPCC      | 2P（Taishan 200 2280 7260）主机读写备机空载 1H | 120万                   | 此即为release基线 | 主机读写备机空载 1H在极限场景配置下tpmC为***121.0***W+       |
|                   | 2P（Taishan 200 2280 7260）主机读写备机只读 1H | 220万                   | 此即为release基线 | 主机读写备机只读 1H在极限场景配置下tpmC为***260.0***W+       |
| 资源池化RTO高可用 | 单集群                                         | 小于10s                 |                   | 极限场景下业务恢复时间验收,使用benchmarksql工具，生成1000仓库的测试数据，模拟资源池化数据库主备组网环境出现故障并恢复的测试，测试过程符合指标规定的要求，多轮测试下测试结果稳定。<br/>故障前50wtpmC，138并发场景下，RTO恢复时间为***7s***，达到标准<10s。 |

### 4.24 兼容性测试

#### 4.241 升级兼容

针对openGauss 7.0.0 RC1版本，规划的升级路径如下表所示。测试整体情况：

1. openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0(包含容器化场景)灰度升级和指定节点升级到openGauss 7.0.0 RC1版本成功，升级失败或者升级未提交，可以成功回滚；
1. 资源池化openGauss 6.0.0/openGauss 6.0.1 灰度升级到openGauss 7.0.0 RC1版本成功，升级失败或者升级未提交，可以成功回滚；
3. 升级成功后，特性功能运行正常

| 升级路径                                                     | 测试结论 |
| ------------------------------------------------------------ | -------- |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 不带CM灰度升级到openGauss 7.0.0 RC1不带CM版本 | 测试通过 |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 不带CM灰度升级到openGauss 7.0.0 RC1不带CM版本，再回滚，再升级提交 | 测试通过 |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 不带CM指定节点升级到openGauss 7.0.0 RC1不带CM版本 | 测试通过 |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 不带CM指定节点升级到openGauss 7.0.0 RC1不带CM版本，再回滚，再升级提交 | 测试通过 |
| openGauss 3.0.0/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1不带CM灰度升级到openGauss 7.0.0 RC1带CM版本 | 测试通过 |
| openGauss 3.0.0/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1不带CM灰度升级到openGauss 7.0.0 RC1带CM版本，再回滚，再升级提交 | 测试通过 |
| openGauss 3.0.0/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1不带CM指定节点升级到openGauss 7.0.0 RC1带CM版本 | 测试通过 |
| openGauss 3.0.0/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1不带CM指定节点升级到openGauss 7.0.0 RC1带CM版本，再回滚，再升级提交 | 测试通过 |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 带CM灰度升级到openGauss 7.0.0 RC1带CM版本 | 测试通过 |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 带CM灰度升级到openGauss 7.0.0 RC1带CM版本，再回滚，再升级提交 | 测试通过 |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 带CM指定节点升级到openGauss 7.0.0 RC1带CM版本 | 测试通过 |
| openGauss 3.0.0/openGauss 3.0.5/openGauss 3.0.6/openGauss 5.0.0/openGauss 5.0.1/openGauss 5.0.2/openGauss 5.0.3/openGauss 6.0.0 RC1/openGauss 6.0.0 带CM指定节点升级到openGauss 7.0.0 RC1带CM版本，再回滚，再升级提交 | 测试通过 |
| openGauss 5.0.3/openGauss 6.0.1容器化升级到openGauss 7.0.0 RC1版本 | 测试通过 |
| openGauss 5.0.3/openGauss 6.0.1容器化升级到openGauss 7.0.0 RC1版本，再回滚，再升级提交 | 测试通过 |
| openGauss 3.0.6带CM灰度升级到openGauss 6.0.1带CM版本，再灰度升级到openGauss 7.0.0 RC1带CM版本 | 测试通过 |
| openGauss 3.0.6带CM灰度升级到openGauss 6.0.1带CM版本，再灰度升级到openGauss 7.0.0 RC1带CM版本，回滚openGauss 6.0.1版本，再升级 | 测试通过 |
| 资源池化openGauss 6.0.0/openGauss 6.0.1 灰度升级到openGauss 7.0.0 RC1版本 | 测试通过 |
| 资源池化openGauss 6.0.0/openGauss 6.0.1 灰度升级到openGauss 7.0.0 RC1版本，再回滚，再升级提交 | 测试通过 |

#### 4.242 硬件兼容

| Domain       | 测试活动                                                     | 测试结论 |
| ------------ | ------------------------------------------------------------ | -------- |
| 服务器兼容   | 在X86（Intel(R) Xeon(R) Gold）/鲲鹏（Kunpeng 920）服务器上安装部署openGauss 7.0.0 RC1数据库 | 测试通过 |
| 存储设备兼容 | 在本地盘（SAS、SATA和SSD）、云盘上和磁阵上安装部署openGauss 7.0.0 RC1数据库 | 测试通过 |

#### 4.243 软件兼容

| Domain       | 测试活动                                                     | 测试结论    |
| ------------ | ------------------------------------------------------------ | ----------- |
| 操作系统兼容 | 在X86+Centos7.6/X86+openEuler 20.03 LTS/ARM+openEuler 20.03 LTS/X86+openEuler 22.03 LTS/ARM+openEuler 22.03 LTS/X86+openEuler 24.03 LTS/ARM+openEuler 24.03 LTS/ARM+Kylin V10环境下，安装部署openGauss 7.0.0 RC1数据库 | 测试   通过 |

### 4.25 资料测试

| 序号 | **手册名称**       | **测试结论** |
| ---- | ------------------ | ------------ |
| 1    | 《法律声明》       | PASS         |
| 2    | 《发行说明》       | PASS         |
| 3    | 《关于openGauss》  | PASS         |
| 4    | 《快速入门》       | PASS         |
| 5    | 《安装指南》       | PASS         |
| 6    | 《简易教程》       | PASS         |
| 7    | 《应用开发指南》   | PASS         |
| 8    | 《编译指南》       | PASS         |
| 9    | 《数据库管理指南》 | PASS         |
| 10   | 《数据库运维指南》 | PASS         |
| 11   | 《性能调优指南》   | PASS         |
| 12   | 《AI特性指南》     | PASS         |
| 13   | 《数据迁移指南》   | PASS         |
| 14   | 《安全加固指南》   | PASS         |
| 15   | 《插件参考》       | PASS         |
| 16   | 《SQL参考》        | PASS         |
| 17   | 《工具与命令参考》 | PASS         |
| 18   | 《数据库参考》     | PASS         |
| 19   | 《附录》           | PASS         |

## 4.3 DBV伙伴测试结论

| 伙伴名称 | 主导新需求数量 | 问题单数量 | 测试设计篇数 | 用例数量                    | 测试报告 | 测试内容                                                     | 遗留问题个数 | 版本测试结论 |
| -------- | -------------- | ---------- | ------------ | --------------------------- | -------- | ------------------------------------------------------------ | ------------ | ------------ |
| 海量     | 10             | 79         | 10           | 文本用例：300+              | 10       | 1、需求测试<br />2、继承特性验证：数据库服务（SQL语法、主备管理、GUC参数控制、内核工具链）、数据库管理与运维（实例管理）、数据库兼容性（资源池化兼容性）和可靠性测试 | 0            | 通过         |
| 南大     | 4              | 9          | 4            | 文本用例：200+；自动化：157 | 4        | 1、需求测试<br />2、继承特性验证：openGauss 6.0.0负责需求自动化实现和测试<br />3、兼容性测试：升级兼容<br /> | 0            | 通过         |
| 神通     | 4              | 24         | 4            | 文本用例：140+              | 4        | 1、需求测试<br />2、安全测试：神通自研语句模糊测试工具RandomTest模糊测试<br />3、资料测试：随新需求验证，验证通过 | 0            | 通过         |
| 国创     | 3              | 4          | 3篇评审      | /                           | 3        | 1、需求测试<br />2、继承特性验证：DataKit智能运维、数据库服务<br />3、性能测试：覆盖插件接口性能<br />4、兼容性测试：智能运维插件支持监控openGauss多版本验证 | 0            | 通过         |
| 中移     | 6              | 15         | 6篇评审      | 未上传                      | 6篇评审  | 1、需求测试                                                  | 0            | 通过         |
| 软通     | 4              | 16         | 4            | 文本用例：10+               | 4        | 1、需求测试                                                  | 0            | 通过         |
| 邮储     | 2              | 5          | 2            | /                           | 2        | 1、需求测试                                                  | 0            | 通过         |



# 5、问题单统计分析

## 5.1 问题单统计

openGauss 7.0.0 RC1版本截止目前转测19个B版本，共发现问题1337个，有效问题1130个，无效问题207个。修复问题回归测试结果正常，版本整体质量良好。详细分布见下表: 

| 版本名称                          | 测试起始时间 | 测试结束时间 | 有效问题数 | 无效问题数 |
| --------------------------------- | ------------ | ------------ | ---------- | ---------- |
| openGauss 7.0.0 RC1 Test round 1  | 2024/10/8    | 2024/10/30   | 88         | 21         |
| openGauss 7.0.0 RC1 Test round 2  | 2024/10/31   | 2024/11/6    | 33         | 8          |
| openGauss 7.0.0 RC1 Test round 3  | 2024/11/7    | 2024/11/13   | 46         | 13         |
| openGauss 7.0.0 RC1 Test round 4  | 2024/11/14   | 2024/11/20   | 49         | 19         |
| openGauss 7.0.0 RC1 Test round 5  | 2024/11/21   | 2024/11/27   | 35         | 14         |
| openGauss 7.0.0 RC1 Test round 6  | 2024/11/28   | 2024/12/4    | 71         | 18         |
| openGauss 7.0.0 RC1 Test round 7  | 2024/12/5    | 2024/12/11   | 46         | 3          |
| openGauss 7.0.0 RC1 Test round 8  | 2024/12/12   | 2024/12/18   | 52         | 4          |
| openGauss 7.0.0 RC1 Test round 9  | 2024/12/19   | 2024/12/25   | 69         | 14         |
| openGauss 7.0.0 RC1 Test round 10 | 2024/12/26   | 2025/1/8     | 111        | 19         |
| openGauss 7.0.0 RC1 Test round 11 | 2025/1/9     | 2025/1/15    | 42         | 7          |
| openGauss 7.0.0 RC1 Test round 12 | 2025/1/16    | 2025/1/22    | 62         | 6          |
| openGauss 7.0.0 RC1 Test round 13 | 2025/1/23    | 2025/2/5     | 42         | 7          |
| openGauss 7.0.0 RC1 Test round 14 | 2025/2/6     | 2025/2/12    | 67         | 7          |
| openGauss 7.0.0 RC1 Test round 15 | 2025/2/13    | 2025/2/19    | 88         | 9          |
| openGauss 7.0.0 RC1 Test round 16 | 2025/2/20    | 2025/2/26    | 87         | 22         |
| openGauss 7.0.0 RC1 Test round 17 | 2025/2/27    | 2025/3/5     | 65         | 9          |
| openGauss 7.0.0 RC1 Test round 18 | 2025/3/6     | 2025/3/12    | 60         | 7          |
| openGauss 7.0.0 RC1 Test round 19 | 2025/3/13    | 2025/3/18    | 18         | 0          |

## 5.2 问题单分析

本次测试共19轮，从Test round 1持续到Test round 19。

2024.10.8启动openGauss 7.0.0 RC1版本迭代1测试，直至2025.1.3 openGauss 7.0.0 RC1迭代2测试结束。Test round 1 至Test round 10兼容性、资源池化、工具链和内核加速均有部分需求转测，根据转测需求数量不同提单数量有所差异，问题单新增较为平缓，占比问题单总量1/2；因内部和外部兼容性需求占比多，兼容问题最多，占比40%左右，内核加速由于转测需求少问题数量最少。

2025.1.04正式进入openGauss 7.0.0 RC1版本迭代3测试，版本需求集中批量转测试，到Test round15该迭代结束，加上 Test round16主要进行新需求测试，约占比问题单总量40%；Test round 15~Test round 16需求测试高峰期，也达到该阶段问题单数量峰值；第三阶段兼容性、工具链和资源池化问题单占比大致相同，新增少量内核加速问题单。

2025.2.27 Test round17开始进入集成测试阶段，Test round 17有内部和伙伴少量未完成需求继续测试活动，其余主要投入集成测试，涉及全量用例，包含长稳、可靠性、性能、安全、资料等场景；Test round 17和Test round 19三个版本SIT测试活动发现有效缺陷90+，工具链和资源池化问题较为突出；逐日分析提单数量，呈收敛趋势；过程中同步进行问题回归。

## 5.3 执行用例与问题单数对应关系

| 领域               | 执行用例数量 | 问题单数量 |
| ------------------ | ------------ | ---------- |
| 数据库服务         | 51698        | 194        |
| 工具链             | 7035         | 308        |
| 资源池化           | 4076         | 205        |
| 兼容性             | 9799         | 394        |
| 可靠性\稳定性\性能 | 1129         | 29         |

## 5.4 集成测试迭代版本基线

| 迭代版本  | 转测试B版本                                       | 测试项                                            |
| --------- | ------------------------------------------------- | ------------------------------------------------- |
| 迭代1     | openGauss 7.0.0-RC1.B001~openGauss 7.0.0-RC1.B005 | 少量需求测试、低频率全量CI、性能/可靠性测试       |
| 迭代2     | openGauss 7.0.0-RC1.B006~openGauss 7.0.0-RC1.B010 | 需求测试、周粒度全量CI、性能/可靠性/常稳/升级测试 |
| 迭代3     | openGauss 7.0.0-RC1.B011~openGauss 7.0.0-RC1.B015 | 需求测试、周粒度全量CI、性能/可靠性/常稳/升级测试 |
| 迭代3出口 | openGauss 7.0.0-RC1.B016~openGauss 7.0.0-RC1.B019 | 需求测试、全量CI、专项测试、集成测试              |



# 6、附件

openGauss 7.0.0 RC1版本评审遗留问题2个，详情见下表

## 附件1：遗留问题列表

| 序号 | issue号 | 问题简述                                                     | 分类     | 问题级别 | 问题分析与影响                                               | 规避措施                                                     |
| ---- | ------- | ------------------------------------------------------------ | -------- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 1    | IASOYO  | 逻辑复制双向同步，在A端创建表a能同步到B端，但从B端往表a插入数据无法同步到A端 | 功能     | 次要     | 存在双向订阅和建表DDL操作时，存在一端数据无法向另一端同步的问题。除了建表外，经测试，其他场景如alter table/drop table不存在问题。例如在A端执行修改列或增删列，该操作同步到B端后，B对表做的DML可同步到A；或者在A执行删表，操作同步到B后，B端建表等操作也可同步到A端。 | B在同步表后，在A端执行refresh订阅，记录发布端新添加的表，更新pg_subscription_rel |
| 2    | IBOZHN  | mv掉dn目录构造failover场景，稍后start拉起节点失败，dms卡住导致节点状态均为starting | 资源池化 | 次要     | 极低概率出现，在启动集群时会卡住，重启该问题消失，对数据和后续业务无影响 | 重启即可恢复                                                 |

优先级和DI对应关系说明：

严重/主要：DI 3分

次要：DI 1分

不重要/无级别：DI 0.1分

# 致谢

感谢参与撰写本文、或在过程中给出宝贵指导意见的各位社区开发者（排名不分先后）

+ [@sungang14](https://gitee.com/sungang14)

+ [@wan005](https://gitee.com/wan005)

+ [@peilinqian](https://gitee.com/peilinqian)

+ [@liu-tong-8848](https://gitee.com/liu-tong-8848)

+ [@li-xin12345](https://gitee.com/@li-xin12345)

+ [@zhanghuan96](https://gitee.com/@lzhanghuan96)

+ [@sweet365](https://gitee.com/@sweet365)

+ [@szoscar55](https://gitee.com/@szoscar55)

+ [@cloudsbreak](https://gitee.com/@cloudsbreak)

+ [@xue-xinyi610](https://gitee.com/@xue-xinyi610)

+ [@zhonglixuntaqianba](https://gitee.com/@zhonglixuntaqianba)

+ [@munan1123](https://gitee.com/@munan1123)

  

